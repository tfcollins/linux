<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>AD9834 IIO Direct Digital Synthesis Linux Driver &#8212; Linux Kernel: Variant from Analog Devices, Inc. v6.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/style.min.css?v=cf8483f0" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script src="../../../_static/documentation_options.js?v=cb43cce9"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    <script defer="" src="../../../_static/app.umd.js?v=96350458"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ADMV8818 2GHz to 18GHz, Digitally Tunable High-Pass and Low-PASS Filter Linux Driver" href="../iio-filter/admv8818.html" />
    <link rel="prev" title="AD9832 IIO Direct Digital Synthesis Linux Driver" href="ad9832.html" />
   
  
    <meta name="robots" content="noindex">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <header>
    <div class="header">
      <div id="left">
        <label id="show-sidebar" for="input-show-toc" title="Show/hide index"></label>
      </div>
      <div id="right">
        <span>
          <a id="logo-org" href="https://analog.com"></a>
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a>
        </span>
        <span class="reverse">
          <label id="show-localtoc" for="input-show-localtoc" title="Show/hide contents"></label>
        </span>
      </div>
    </div>
    <div class="repotoc-tree">
      <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

    </div>
  </header>

    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">AD9834 IIO Direct Digital Synthesis Linux Driver</a><ul>
<li><a class="reference internal" href="#supported-devices">Supported Devices</a></li>
<li><a class="reference internal" href="#reference-circuits">Reference Circuits</a></li>
<li><a class="reference internal" href="#evaluation-boards">Evaluation Boards</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a><ul>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#files">Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-device-tree">Example device-tree</a></li>
<li><a class="reference internal" href="#adding-linux-driver-support">Adding Linux driver support</a></li>
<li><a class="reference internal" href="#hardware-configuration">Hardware configuration</a></li>
<li><a class="reference internal" href="#driver-testing">Driver testing</a><ul>
<li><a class="reference internal" href="#show-device-name">Show device name</a></li>
<li><a class="reference internal" href="#show-frequency-scale">Show frequency scale</a></li>
<li><a class="reference internal" href="#set-frequency-symbol-0-1">Set frequency symbol 0/1</a></li>
<li><a class="reference internal" href="#show-phase-scale">Show phase scale</a></li>
<li><a class="reference internal" href="#set-phase-symbol-0-1">Set phase symbol 0/1</a></li>
<li><a class="reference internal" href="#list-available-wavetypes">List available wavetypes</a></li>
<li><a class="reference internal" href="#set-wavetype">Set wavetype</a></li>
<li><a class="reference internal" href="#disable-fsk-psk-pincontrol">Disable FSK/PSK pincontrol</a></li>
<li><a class="reference internal" href="#enable-output-0">Enable output 0</a></li>
<li><a class="reference internal" href="#switch-between-frequency-symbol-0-1">Switch between frequency symbol 0/1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-information">More Information</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../../../drivers_index.html">Linux Drivers</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../multifunction-device/adp5520.html">ADP5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8860.html">ADP8860</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8870.html">ADP8870</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clk/adi/clk-ad9545.c.html">AD9545</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5588.html">ADP5587</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5589.html">ADP5585</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/axi_fan_control.html">Fan Control IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/ltc2947.html">LTC2947</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin1100.html">ADIN1100</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin.html">ADIN1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin1110.html">ADIN1110</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin2111.html">ADIN2111</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/open_alliance.html">Open Alliance - 10BASE-T1x MAC-PHY Serial Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl313.html">ADXL312,</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl345.html">ADXL345</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl355.html">ADXL355</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl362.html">ADXL362</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl367.html">ADXL367</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl372.html">ADXL372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16201.html">ADIS16201</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16203.html">ADIS16203</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16209.html">ADIS16209</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16240.html">ADIS16240</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ad8366.html">AD8366</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ada4250.html">ADA4250</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/hmc425a.html">HMC425</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad400x.html">AD4003</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad4630.html">AD4030-24</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9208.html">AD6684</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7476a.html">AD7091</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r5.html">AD7091R-5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r8.html">AD7091R-8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7124.html">AD7124</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7780.html">AD7170</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7192.html">AD7190</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7266.html">AD7265</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7280a.html">AD7280A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7291.html">AD7291</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7298.html">AD7298</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad738x.html">AD7380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7606.html">AD7605-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7766.html">AD7766-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768-1.html">AD7768-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768.html">AD7768</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7793.html">AD7785</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7791.html">AD7787</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7887.html">AD7887</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7998.html">AD7991</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9083.html">AD9083</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-mxfe/ad9081.html">AD9207</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/tools-software/linux-drivers/iio-adc/ad9208.html">AD9208</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/axi-adc-hdl.html">AD9234</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adaq8092.html">ADAQ8092</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adas1000.html">ADAS1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adar1000.html">ADAR1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7152.html">AD7152</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7150.html">AD7150</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7745.html">AD7745</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-addac/ad74413r.html">AD74412R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/axi-ad3552r.html">AD3552R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5064.html">AD5024</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5446.html">AD5300</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5676.html">AD5310R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5360.html">AD5360</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5380.html">AD5380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5449.html">AD5415</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5421.html">AD5421</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5504.html">AD5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5592r.html">AD5592R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5593r.html">AD5593R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5624r.html">AD5624</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5755.html">AD5735</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5764.html">AD5744</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5758.html">AD5758</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5791.html">AD5760</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5770r.html">AD5770R</a></li>
<li class="toctree-l2"><a class="reference internal" href="axi-dac-dds-hdl.html">AD9122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ltc2664.html">LTC2664</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad9832.html">AD9832</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">AD9833</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-filter/admv8818.html">ADMV8818</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9162.html">AD9161</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9508.html">AD9508</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9517.html">AD9516-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9523.html">AD9523-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9528.html">AD9528</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4159.html">ADF4159</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4350.html">ADF4350</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4360.html">ADF4360-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4371.html">ADF4371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4377.html">ADF4377</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf5355.html">ADF4355</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1013.html">ADMV1013</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1014.html">ADMV1014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adrf6780.html">ADRF6780</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/hmc7044.html">HMC7044</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ltc6952.html">LTC6952</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16060.html">ADIS16060</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16080.html">ADIS16080</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16130.html">ADIS16130</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16136.html">ADIS16133</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16260.html">ADIS16251</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adxrs450.html">ADXRS450</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-impedance-analyzer/ad5933.html">AD5933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16400.html">ADIS16300</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16480.html">ADIS16375</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16475.html">ADIS16460</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s90.html">AD2S90</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1200.html">AD2S1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1210.html">AD2S1210</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad6676.html">AD6676</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9361.html">AD9361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9371.html">AD9371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9002.html">ADRV9002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9009.html">ADRV9008-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-temperature/ltc2983.html">LTC2983</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-vector-power/adl5960.html">ADL5960</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/ad714x.html">AD7142</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7873.html">AD7873</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7877.html">AD7877</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7879.html">AD7879</a></li>
<li class="toctree-l2"><a class="reference internal" href="../leds/adp1650.html">ADP1650</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/dpot.html">AD5160</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mux/adgs1408.html">ADGS1408</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking-mac802154/adf7242.html">ADF7241</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/adp150.html">ADP122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/ad5398.html">AD5398</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serial/max310x.html">MAX3107</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1835a.html">AD1835A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1936.html">AD1933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad73322.html">AD73311</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1361.html">ADAU1361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1372.html">ADAU1372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1373.html">ADAU1373</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1381.html">ADAU1381</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1701.html">ADAU1401A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1977.html">ADAU1977</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7002.html">ADAU7002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7118.html">ADAU7118</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adav801.html">ADAV801</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm2602.html">SSM2602</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm4567.html">SSM4567</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm/adv7511.html">ADV7511</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/build.html">Building Kernels</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="ad9834-iio-direct-digital-synthesis-linux-driver">
<h1>AD9834 IIO Direct Digital Synthesis Linux Driver<a class="headerlink" href="#ad9834-iio-direct-digital-synthesis-linux-driver" title="Link to this heading">¶</a></h1>
<section id="supported-devices">
<h2>Supported Devices<a class="headerlink" href="#supported-devices" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#adi%3EAD9833"><span class="xref myst">AD9833</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EAD9834"><span class="xref myst">AD9834</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EAD9837"><span class="xref myst">AD9837</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EAD9838"><span class="xref myst">AD9838</span></a></p></li>
</ul>
</section>
<section id="reference-circuits">
<h2>Reference Circuits<a class="headerlink" href="#reference-circuits" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#adi%3ECN0156"><span class="xref myst">CN0156</span></a></p></li>
</ul>
</section>
<section id="evaluation-boards">
<h2>Evaluation Boards<a class="headerlink" href="#evaluation-boards" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#adi%3EEVAL-AD9833SDZ"><span class="xref myst">EVAL-AD9833SDZ</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EEVAL-AD9834SDZ"><span class="xref myst">EVAL-AD9834SDZ</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EEVAL-AD9837SDZ"><span class="xref myst">EVAL-AD9837SDZ</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EEVAL-AD9838SDZ"><span class="xref myst">EVAL-AD9838SDZ</span></a></p></li>
</ul>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This is a Linux industrial I/O (<a class="reference internal" href="#/software/linux/docs/iio/iio"><span class="xref myst">IIO</span></a>) subsystem driver, targeting serial interface DDS controllers.
The industrial I/O subsystem provides a unified framework for drivers for many different types of converters and sensors using a number of different physical interfaces (i2c, spi, etc).
See <a class="reference internal" href="#/software/linux/docs/iio/iio"><span class="xref myst">IIO</span></a> for more information.</p>
</section>
<section id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Link to this heading">¶</a></h2>
<section id="status">
<h3>Status<a class="headerlink" href="#status" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Source</th>
<th>Mainlined?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="git.linux.org&gt;drivers/staging/iio/frequency/ad9834.c">git</a></td>
<td><a href="git.linux.org&gt;drivers/staging/iio/frequency/ad9834.c">Yes</a></td>
</tr>
</tbody>
</table>
</section>
<section id="files">
<h3>Files<a class="headerlink" href="#files" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>File</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>driver</td>
<td><a href="git.linux.org&gt;drivers/staging/iio/frequency/ad9834.c">drivers/staging/iio/frequency/ad9834.c</a></td>
</tr>
<tr class="even">
<td>include</td>
<td><a href="git.linux.org&gt;drivers/staging/iio/frequency/ad9834.h">drivers/staging/iio/frequency/ad9834.h</a></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="example-device-tree">
<h2>Example device-tree<a class="headerlink" href="#example-device-tree" title="Link to this heading">¶</a></h2>
<p>In the example below, it’s assumed that <strong>spi0</strong> is the SPI controller to which the AD983X is attached to. Typically, these are defined in the board device-tree where the AD983X is attached to.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">spi0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="cp">#address-cells = &lt;1&gt;;</span>
<span class="w">        </span><span class="cp">#size-cells = &lt;0&gt;;</span>
<span class="w">        </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;okay&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">ad9833</span><span class="err">@</span><span class="mi">0</span><span class="p">{</span>
<span class="w">            </span><span class="cp">#clock-cells = &lt;0&gt;;</span>
<span class="w">            </span><span class="n">compatible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;adi,ad9833&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="n">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">            </span><span class="n">spi</span><span class="o">-</span><span class="n">max</span><span class="o">-</span><span class="n">frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">1000000</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">            </span><span class="n">spi</span><span class="o">-</span><span class="n">cpol</span><span class="p">;</span>
<span class="w">            </span><span class="n">clocks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&amp;</span><span class="n">osc</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">            </span><span class="n">vcc</span><span class="o">-</span><span class="n">supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&amp;</span><span class="n">vcc</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">};</span>
</pre></div>
</div>
<p>This example also references a regulator (vcc-supply) and a clock (osc). These can be left out, in which case it’s assumed they are somehow hard-wired on the board to a proper voltage supply and clock source.</p>
<p>The <strong>compabtible</strong> string can be any of the following:</p>
<ul class="simple">
<li><p>adi,ad9833</p></li>
<li><p>adi,ad9834</p></li>
<li><p>adi,ad9837</p></li>
<li><p>adi,ad9838</p></li>
</ul>
<p>Note that, the *adi,* prefix can be omitted and this still works. It is preferred to be added to avoid any potential collisions with other drivers from other vendors.</p>
<p>However, the voltage supply &amp; clock can be defined via device-tree as well.
See example below:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="o">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nl">vcc</span><span class="p">:</span><span class="w"> </span><span class="n">fixedregulator</span><span class="err">@</span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">compatible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;regulator-fixed&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="n">regulator</span><span class="o">-</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;fixed-supply&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="n">regulator</span><span class="o">-</span><span class="n">min</span><span class="o">-</span><span class="n">microvolt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">2500000</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">            </span><span class="n">regulator</span><span class="o">-</span><span class="n">max</span><span class="o">-</span><span class="n">microvolt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">2500000</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">            </span><span class="n">regulator</span><span class="o">-</span><span class="n">boot</span><span class="o">-</span><span class="n">on</span><span class="p">;</span>
<span class="w">        </span><span class="p">};</span>

<span class="w">        </span><span class="nl">osc</span><span class="p">:</span><span class="w"> </span><span class="n">oscillator</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="cp">#clock-cells = &lt;0&gt;;</span>
<span class="w">            </span><span class="n">compatible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;fixed-clock&quot;</span><span class="p">;</span>
<span class="w">            </span><span class="n">clock</span><span class="o">-</span><span class="n">frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">25000000</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">};</span>
</pre></div>
</div>
<p>This assumes that the board has the chips &amp; drivers to generate voltages like this &amp; clock frequencies.</p>
</section>
<section id="adding-linux-driver-support">
<h2>Adding Linux driver support<a class="headerlink" href="#adding-linux-driver-support" title="Link to this heading">¶</a></h2>
<p>Configure kernel with “make menuconfig” (alternatively use “make xconfig” or
“make qconfig”)</p>
<p>&lt;WRAP round help&gt;
The AD9834 Driver depends on <strong>CONFIG_SPI</strong>
&lt;/WRAP&gt;</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Linux Kernel Configuration
    Device Drivers  ---&gt;
        [*] Staging drivers  ---&gt;
            &lt;*&gt;     Industrial I/O support ---&gt;
                --- Industrial I/O support
                -*-   Enable ring buffer support within IIO
                -*-     Industrial I/O lock free software ring
                -*-   Enable triggered sampling support

                      *** Direct Digital Synthesis ***
                [--snip--]

                &lt;*&gt;   Analog Devices ad9833/4/ driver

                [--snip--]
</pre></div>
</div>
</section>
<section id="hardware-configuration">
<h2>Hardware configuration<a class="headerlink" href="#hardware-configuration" title="Link to this heading">¶</a></h2>
</section>
<section id="driver-testing">
<h2>Driver testing<a class="headerlink" href="#driver-testing" title="Link to this heading">¶</a></h2>
<p>![iio_snippets#iio device files&amp;noheader&amp;firstseconly&amp;noeditbtn](/page&gt;software/linux/docs/iio/iio_snippets#iio device files&amp;noheader&amp;firstseconly&amp;noeditbtn)</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/&gt; <strong>cd /sys/bus/iio/devices/</strong>
root:/sys/bus/iio/devices&gt; ls
device0
root:/sys/bus/iio/devices&gt; <strong>cd device0</strong></p>
<p>root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>ls -l</strong>
–w——- 1 root root 4096 Jan 3 14:06 dds0_freq0
–w——- 1 root root 4096 Jan 3 14:06 dds0_freq1
-r–r–r– 1 root root 4096 Jan 3 14:06 dds0_freq_scale
–w——- 1 root root 4096 Jan 3 14:06 dds0_freqsymbol
–w——- 1 root root 4096 Jan 3 14:06 dds0_out0_wavetype
-r–r–r– 1 root root 4096 Jan 3 14:06 dds0_out0_wavetype_available
–w——- 1 root root 4096 Jan 3 14:06 dds0_out1_enable
–w——- 1 root root 4096 Jan 3 14:06 dds0_out1_wavetype
-r–r–r– 1 root root 4096 Jan 3 14:06 dds0_out1_wavetype_available
–w——- 1 root root 4096 Jan 3 14:06 dds0_out_enable
–w——- 1 root root 4096 Jan 3 14:06 dds0_phase0
–w——- 1 root root 4096 Jan 3 14:06 dds0_phase1
-r–r–r– 1 root root 4096 Jan 3 14:06 dds0_phase_scale
–w——- 1 root root 4096 Jan 3 14:06 dds0_phasesymbol
–w——- 1 root root 4096 Jan 3 14:06 dds0_pincontrol_en
-r–r–r– 1 root root 4096 Jan 3 14:06 name
drwxr-xr-x 2 root root 0 Jan 3 14:06 power
lrwxrwxrwx 1 root root 0 Jan 3 14:06 subsystem -&gt; …/…/…/…/…/bus/iio
-rw-r–r– 1 root root 4096 Jan 3 14:06 uevent
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
<section id="show-device-name">
<h3>Show device name<a class="headerlink" href="#show-device-name" title="Link to this heading">¶</a></h3>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>cat name</strong>
ad9834
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
<section id="show-frequency-scale">
<h3>Show frequency scale<a class="headerlink" href="#show-frequency-scale" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_freqY_scale<br />
Scale to be applied to ddsX_freqY in order to obtain the
desired value in Hz. If shared across all frequency registers
Y is not present. It is also possible X is not present if
shared across all channels.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>cat dds0_freq_scale</strong>
1
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
<section id="set-frequency-symbol-0-1">
<h3>Set frequency symbol 0/1<a class="headerlink" href="#set-frequency-symbol-0-1" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_freqY<br />
Stores frequency into tuning word Y.
There will be more than one ddsX_freqY file, which allows for
pin controlled FSK Frequency Shift Keying
(ddsX_pincontrol_freq_en is active) or the user can control
the desired active tuning word by writing Y to the
ddsX_freqsymbol file.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 1000000 &gt; dds0_freq0</strong>
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 500000 &gt; dds0_freq0</strong>
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
<p><strong>freq0</strong> = <em>ddsX_freq0 * dds0_freq_scale</em> = 1000000 * 1 = <strong>1 MHz</strong><br />
<strong>freq1</strong> = <em>ddsX_freq1 * dds0_freq_scale</em> = 500000 * 1 = <strong>500 kHz</strong></p>
</section>
<section id="show-phase-scale">
<h3>Show phase scale<a class="headerlink" href="#show-phase-scale" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_phaseY_scale<br />
Scale to be applied to ddsX_phaseY in order to obtain the
desired value in rad. If shared across all phase registers
Y is not present. It is also possible X is not present if
shared across all channels.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>cat dds0_phase_scale</strong>
0.0015339808
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
<section id="set-phase-symbol-0-1">
<h3>Set phase symbol 0/1<a class="headerlink" href="#set-phase-symbol-0-1" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_phaseY<br />
Stores phase into Y.
There will be more than one ddsX_phaseY file, which allows for
pin controlled PSK Phase Shift Keying
(ddsX_pincontrol_phase_en is active) or the user can
control the desired phase Y which is added to the phase
accumulator output by writing Y to the en_phase file.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 512 &gt; dds0_phase0</strong>
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 2048 &gt; dds0_phase0</strong>
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
<p><strong>phase0</strong> = <em>dds0_phase0 * ddsX_phaseY_scale</em> = 512 * 0.0015339808 = <strong>0.7853981696 rad</strong><br />
<strong>phase1</strong> = <em>dds0_phase1 * ddsX_phaseY_scale</em> = 2048 * 0.0015339808 = PI = <strong>3.1415926 rad</strong></p>
</section>
<section id="list-available-wavetypes">
<h3>List available wavetypes<a class="headerlink" href="#list-available-wavetypes" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_outY_wavetype_available<br />
Lists all available output waveform options.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>cat dds0_out0_wavetype_available</strong>
sine triangle
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
<section id="set-wavetype">
<h3>Set wavetype<a class="headerlink" href="#set-wavetype" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_outY_wavetype<br />
Specifies the output waveform.
(sine, triangle, ramp, square, .…)
For a list of available output waveform options read
available_output_modes.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo sine &gt; dds0_out0_wavetype</strong>
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
<section id="disable-fsk-psk-pincontrol">
<h3>Disable FSK/PSK pincontrol<a class="headerlink" href="#disable-fsk-psk-pincontrol" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_pincontrol_en<br />
ddsX_pincontrol_en: Both, the active frequency and phase is
controlled by the respective phase and frequency control inputs.
In case the device in question allows to independent controls,
then there are dedicated files (ddsX_pincontrol_freq_en,
ddsX_pincontrol_phase_en).</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 0 &gt; dds0_pincontrol_en</strong>
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
<section id="enable-output-0">
<h3>Enable output 0<a class="headerlink" href="#enable-output-0" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_out_enable<br />
/sys/bus/iio/devices/.…/ddsX_outY_enable<br />
ddsX_outY_enable controls signal generation on output Y of
channel X. Y may be suppressed if all channels are
controlled together.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 1 &gt; dds0_out_enable</strong>
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
<section id="switch-between-frequency-symbol-0-1">
<h3>Switch between frequency symbol 0/1<a class="headerlink" href="#switch-between-frequency-symbol-0-1" title="Link to this heading">¶</a></h3>
<p>/sys/bus/iio/devices/.…/ddsX_freqsymbol<br />
Specifies the active output frequency tuning word. The value
corresponds to the Y in ddsX_freqY. To exit this mode the user
can write ddsX_pincontrol_freq_en or ddsX_out_enable file.</p>
<p>&lt;WRAP box bggreen&gt;&lt;wrap info&gt;This specifies any shell prompt running on the target&lt;/wrap&gt;
&lt;xterm&gt;
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 1 &gt; dds0_freqsymbol</strong>
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt; <strong>echo 0 &gt; dds0_freqsymbol</strong>
root:/sys/devices/platform/bfin-spi.0/spi0.3/device0&gt;
&lt;/xterm&gt;&lt;/WRAP&gt;</p>
</section>
</section>
<section id="more-information">
<h2>More Information<a class="headerlink" href="#more-information" title="Link to this heading">¶</a></h2>
<p>![iio_snippets#iio pointers&amp;noheader&amp;firstseconly&amp;noeditbtn](/page&gt;software/linux/docs/iio/iio_snippets#iio pointers&amp;noheader&amp;firstseconly&amp;noeditbtn)</p>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="ad9832.html" title="Previous document" class="prev">AD9832 IIO Direct Digital Synthesis Linux Driver</a>
    <a href="../iio-filter/admv8818.html" title="Next document" class="next">ADMV8818 2GHz to 18GHz, Digitally Tunable High-Pass and Low-PASS Filter Linux Driver</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>

  
  <form action="" method="get" class="search-area">
    <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
    <button value="search"></button>
    <span id="search-progress"></span>
  </form>
  
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>