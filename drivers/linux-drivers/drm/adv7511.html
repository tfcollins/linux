<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ADV7511 HDMI transmitter Linux Driver &#8212; Linux Kernel: Variant from Analog Devices, Inc. v6.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/style.min.css?v=cf8483f0" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script src="../../../_static/documentation_options.js?v=cb43cce9"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    <script defer="" src="../../../_static/app.umd.js?v=96350458"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Building Kernels" href="../../../guides/build.html" />
    <link rel="prev" title="SSM4567 Audio Amplifier Linux Driver" href="../sound/ssm4567.html" />
   
  
    <meta name="robots" content="noindex">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <header>
    <div class="header">
      <div id="left">
        <label id="show-sidebar" for="input-show-toc" title="Show/hide index"></label>
      </div>
      <div id="right">
        <span>
          <a id="logo-org" href="https://analog.com"></a>
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a>
        </span>
        <span class="reverse">
          <label id="show-localtoc" for="input-show-localtoc" title="Show/hide contents"></label>
        </span>
      </div>
    </div>
    <div class="repotoc-tree">
      <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

    </div>
  </header>

    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">ADV7511 HDMI transmitter Linux Driver</a><ul>
<li><a class="reference internal" href="#supported-devices">Supported Devices</a></li>
<li><a class="reference internal" href="#reference-circuits">Reference Circuits</a></li>
<li><a class="reference internal" href="#evaluation-boards">Evaluation Boards</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a><ul>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#files">Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-platform-device-initialization">Example platform device initialization</a><ul>
<li><a class="reference internal" href="#drm">DRM</a><ul>
<li><a class="reference internal" href="#example-configuration">Example Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#asoc">ASoC</a></li>
<li><a class="reference internal" href="#dai-configuration">DAI configuration</a><ul>
<li><a class="reference internal" href="#supported-dai-formats">Supported DAI formats</a></li>
<li><a class="reference internal" href="#example-dai-configuration">Example DAI configuration</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#enabling-linux-driver-support">Enabling Linux driver support</a></li>
<li><a class="reference internal" href="#more-information">More information</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../../../drivers_index.html">Linux Drivers</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../multifunction-device/adp5520.html">ADP5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8860.html">ADP8860</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8870.html">ADP8870</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clk/adi/clk-ad9545.c.html">AD9545</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5588.html">ADP5587</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5589.html">ADP5585</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/axi_fan_control.html">Fan Control IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/ltc2947.html">LTC2947</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin1100.html">ADIN1100</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin.html">ADIN1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin1110.html">ADIN1110</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin2111.html">ADIN2111</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/open_alliance.html">Open Alliance - 10BASE-T1x MAC-PHY Serial Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl313.html">ADXL312,</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl345.html">ADXL345</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl355.html">ADXL355</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl362.html">ADXL362</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl367.html">ADXL367</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl372.html">ADXL372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16201.html">ADIS16201</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16203.html">ADIS16203</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16209.html">ADIS16209</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16240.html">ADIS16240</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ad8366.html">AD8366</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ada4250.html">ADA4250</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/hmc425a.html">HMC425</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad400x.html">AD4003</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad4630.html">AD4030-24</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9208.html">AD6684</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7476a.html">AD7091</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r5.html">AD7091R-5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r8.html">AD7091R-8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7124.html">AD7124</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7780.html">AD7170</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7192.html">AD7190</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7266.html">AD7265</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7280a.html">AD7280A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7291.html">AD7291</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7298.html">AD7298</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad738x.html">AD7380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7606.html">AD7605-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7766.html">AD7766-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768-1.html">AD7768-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768.html">AD7768</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7793.html">AD7785</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7791.html">AD7787</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7887.html">AD7887</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7998.html">AD7991</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9083.html">AD9083</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-mxfe/ad9081.html">AD9207</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/tools-software/linux-drivers/iio-adc/ad9208.html">AD9208</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/axi-adc-hdl.html">AD9234</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adaq8092.html">ADAQ8092</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adas1000.html">ADAS1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adar1000.html">ADAR1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7152.html">AD7152</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7150.html">AD7150</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7745.html">AD7745</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-addac/ad74413r.html">AD74412R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/axi-ad3552r.html">AD3552R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5064.html">AD5024</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5446.html">AD5300</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5676.html">AD5310R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5360.html">AD5360</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5380.html">AD5380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5449.html">AD5415</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5421.html">AD5421</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5504.html">AD5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5592r.html">AD5592R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5593r.html">AD5593R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5624r.html">AD5624</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5755.html">AD5735</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5764.html">AD5744</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5758.html">AD5758</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5791.html">AD5760</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5770r.html">AD5770R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/axi-dac-dds-hdl.html">AD9122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ltc2664.html">LTC2664</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/ad9832.html">AD9832</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/ad9834.html">AD9833</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-filter/admv8818.html">ADMV8818</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9162.html">AD9161</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9508.html">AD9508</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9517.html">AD9516-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9523.html">AD9523-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9528.html">AD9528</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4159.html">ADF4159</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4350.html">ADF4350</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4360.html">ADF4360-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4371.html">ADF4371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4377.html">ADF4377</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf5355.html">ADF4355</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1013.html">ADMV1013</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1014.html">ADMV1014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adrf6780.html">ADRF6780</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/hmc7044.html">HMC7044</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ltc6952.html">LTC6952</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16060.html">ADIS16060</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16080.html">ADIS16080</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16130.html">ADIS16130</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16136.html">ADIS16133</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16260.html">ADIS16251</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adxrs450.html">ADXRS450</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-impedance-analyzer/ad5933.html">AD5933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16400.html">ADIS16300</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16480.html">ADIS16375</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16475.html">ADIS16460</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s90.html">AD2S90</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1200.html">AD2S1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1210.html">AD2S1210</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad6676.html">AD6676</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9361.html">AD9361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9371.html">AD9371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9002.html">ADRV9002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9009.html">ADRV9008-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-temperature/ltc2983.html">LTC2983</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-vector-power/adl5960.html">ADL5960</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/ad714x.html">AD7142</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7873.html">AD7873</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7877.html">AD7877</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7879.html">AD7879</a></li>
<li class="toctree-l2"><a class="reference internal" href="../leds/adp1650.html">ADP1650</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/dpot.html">AD5160</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mux/adgs1408.html">ADGS1408</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking-mac802154/adf7242.html">ADF7241</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/adp150.html">ADP122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/ad5398.html">AD5398</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serial/max310x.html">MAX3107</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1835a.html">AD1835A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1936.html">AD1933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad73322.html">AD73311</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1361.html">ADAU1361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1372.html">ADAU1372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1373.html">ADAU1373</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1381.html">ADAU1381</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1701.html">ADAU1401A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1977.html">ADAU1977</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7002.html">ADAU7002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7118.html">ADAU7118</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adav801.html">ADAV801</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm2602.html">SSM2602</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm4567.html">SSM4567</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ADV7511</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/build.html">Building Kernels</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="adv7511-hdmi-transmitter-linux-driver">
<h1>ADV7511 HDMI transmitter Linux Driver<a class="headerlink" href="#adv7511-hdmi-transmitter-linux-driver" title="Link to this heading">¶</a></h1>
<section id="supported-devices">
<h2>Supported Devices<a class="headerlink" href="#supported-devices" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#adi%3EADV7511"><span class="xref myst">ADV7511</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EADV7511W"><span class="xref myst">ADV7511W</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EADV7513"><span class="xref myst">ADV7513</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EADV7533"><span class="xref myst">ADV7533</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EADV7535"><span class="xref myst">ADV7535</span></a></p></li>
</ul>
</section>
<section id="reference-circuits">
<h2>Reference Circuits<a class="headerlink" href="#reference-circuits" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#adi%3ECN0224"><span class="xref myst">CN0224</span></a></p></li>
</ul>
</section>
<section id="evaluation-boards">
<h2>Evaluation Boards<a class="headerlink" href="#evaluation-boards" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#adi%3EEVAL-ADV7511W"><span class="xref myst">EVAL-ADV7511W</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EEVAL-ADV7612"><span class="xref myst">EVAL-ADV7612</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EEVAL-ADV7612-7511"><span class="xref myst">EVAL-ADV7612-7511</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EEVAL-ADV7842"><span class="xref myst">EVAL-ADV7842</span></a></p></li>
<li><p><a class="reference internal" href="#adi%3EEVAL-ADV7842-7511"><span class="xref myst">EVAL-ADV7842-7511</span></a></p></li>
</ul>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>The ADV7511 driver is implemented as a DRM encoder slave driver. In a typical board design the ADV7511 is not used as a standalone component but rather as a HDMI encoder fronted for some other devices with a graphics core, like a SoC or a FPGA. Implementing the ADV7511 driver as a DRM encoder slave driver allows to reuse the driver between different platforms which use the ADV7511.</p>
<p>For an example implementation of a DRM driver using the ADV7511 please refer to Linux driver for the Analog Devices example HDL design for the Xilinx Zync plus ADV7511 designs.</p>
<p>The driver supports audio via HDMI as well by implementing a ASoC codec driver. This again allows to reuse the driver for a varieties of different platforms.</p>
</section>
<section id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Link to this heading">¶</a></h2>
<section id="status">
<h3>Status<a class="headerlink" href="#status" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Source</th>
<th>Mainlined?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="git.linux.org&gt;drivers/gpu/drm/bridge/adv7511/">git</a></td>
<td><a href="git.linux.org&gt;drivers/gpu/drm/bridge/adv7511/">Yes</a></td>
</tr>
</tbody>
</table>
</section>
<section id="files">
<h3>Files<a class="headerlink" href="#files" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>File</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>driver</td>
<td><a href="git.linux.org&gt;drivers/gpu/drm/bridge/adv7511/adv7511_drv.c">drivers/gpu/drm/bridge/adv7511/adv7511_drv.c</a></td>
</tr>
<tr class="even">
<td>driver</td>
<td><a href="git.linux.org&gt;drivers/gpu/drm/bridge/adv7511/adv7511_audio.c">drivers/gpu/drm/bridge/adv7511/adv7511_audio.c</a></td>
</tr>
<tr class="odd">
<td>driver</td>
<td><a href="git.linux.org&gt;drivers/gpu/drm/bridge/adv7511/adv7533.c">drivers/gpu/drm/bridge/adv7511/adv7533.c</a></td>
</tr>
<tr class="even">
<td>include</td>
<td><a href="git.linux.org&gt;drivers/gpu/drm/bridge/adv7511/adv7511.h">drivers/gpu/drm/bridge/adv7511/adv7511.h</a></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="example-platform-device-initialization">
<h2>Example platform device initialization<a class="headerlink" href="#example-platform-device-initialization" title="Link to this heading">¶</a></h2>
<section id="drm">
<h3>DRM<a class="headerlink" href="#drm" title="Link to this heading">¶</a></h3>
<p>Usually the DRM encoder slave will be instantiated by a DRM encoder driver. After the encoder slave has been instantiated it needs to be configured by the DRM encoder driver. The configuration includes settings like physical connection to the host graphics core as well as the output video format. If necessary the configuration can be changed at runtime, e.g. to change the output format if a HDMI sink with different capabilities is connected.</p>
<p>Configuration for the ADV7511 is done through the adv7511_video_input_config which should be passed to the slave encoder’s set_config callback function.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * enum adv7511_input_style - Selects the input format style</span>
<span class="cm"> * ADV7511_INPUT_STYLE1: Use input style 1</span>
<span class="cm"> * ADV7511_INPUT_STYLE2: Use input style 2</span>
<span class="cm"> * ADV7511_INPUT_STYLE3: Use input style 3</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_style</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_STYLE1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_STYLE2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_STYLE3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_input_id - Selects the input format id</span>
<span class="cm"> * @ADV7511_INPUT_ID_24BIT_RGB444_YCbCr444: Input pixel format is 24-bit 444 RGB</span>
<span class="cm"> *                      or 444 YCbCR with separate syncs</span>
<span class="cm"> * @ADV7511_INPUT_ID_16_20_24BIT_YCbCr422_SEPARATE_SYNC:</span>
<span class="cm"> * @ADV7511_INPUT_ID_16_20_24BIT_YCbCr422_EMBEDDED_SYNC:</span>
<span class="cm"> * @ADV7511_INPUT_ID_8_10_12BIT_YCbCr422_SEPARATE_SYNC:</span>
<span class="cm"> * @ADV7511_INPUT_ID_8_10_12BIT_YCbCr422_EMBEDDED_SYNC:</span>
<span class="cm"> * @ADV7511_INPUT_ID_12_15_16BIT_RGB444_YCbCr444:</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_id</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_ID_24BIT_RGB444_YCbCr444</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_ID_16_20_24BIT_YCbCr422_SEPARATE_SYNC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_ID_16_20_24BIT_YCbCr422_EMBEDDED_SYNC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_ID_8_10_12BIT_YCbCr422_SEPARATE_SYNC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_ID_8_10_12BIT_YCbCr422_EMBEDDED_SYNC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_ID_12_15_16BIT_RGB444_YCbCr444</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_input_bit_justifiction - Selects the input format bit justifiction</span>
<span class="cm"> * ADV7511_INPUT_BIT_JUSTIFICATION_EVENLY: Input bits are evenly distributed</span>
<span class="cm"> * ADV7511_INPUT_BIT_JUSTIFICATION_RIGHT: Input bit signals have right justification</span>
<span class="cm"> * ADV7511_INPUT_BIT_JUSTIFICATION_LEFT: Input bit signals have left justification</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_bit_justifiction</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_BIT_JUSTIFICATION_EVENLY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_BIT_JUSTIFICATION_RIGHT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_BIT_JUSTIFICATION_LEFT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_input_color_depth - Selects the input format color depth</span>
<span class="cm"> * @ADV7511_INPUT_COLOR_DEPTH_8BIT: Input format color depth is 8 bits per channel</span>
<span class="cm"> * @ADV7511_INPUT_COLOR_DEPTH_10BIT: Input format color dpeth is 10 bits per channel</span>
<span class="cm"> * @ADV7511_INPUT_COLOR_DEPTH_12BIT: Input format color depth is 12 bits per channel</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_color_depth</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_COLOR_DEPTH_8BIT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_COLOR_DEPTH_10BIT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_COLOR_DEPTH_12BIT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_input_sync_pulse - Selects the sync pulse</span>
<span class="cm"> * @ADV7511_INPUT_SYNC_PULSE_DE: Use the DE signal as sync pulse</span>
<span class="cm"> * @ADV7511_INPUT_SYNC_PULSE_HSYNC: Use the HSYNC signal as sync pulse</span>
<span class="cm"> * @ADV7511_INPUT_SYNC_PULSE_VSYNC: Use the VSYNC signal as sync pulse</span>
<span class="cm"> * @ADV7511_INPUT_SYNC_PULSE_NONE: No external sync pulse signal</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_sync_pulse</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_SYNC_PULSE_DE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_SYNC_PULSE_HSYNC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_SYNC_PULSE_VSYNC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_SYNC_PULSE_NONE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_input_clock_delay - Delay for the video data input clock</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_MINUS_1200PS: -1200 pico seconds delay</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_MINUS_800PS: -800 pico seconds delay</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_MINUS_400PS: -400 pico seconds delay</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_NONE: No delay</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_PLUS_400PS: 400 pico seconds delay</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_PLUS_800PS: 800 pico seconds delay</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_PLUS_1200PS: 1200 pico seconds delay</span>
<span class="cm"> * @ADV7511_INPUT_CLOCK_DELAY_PLUS_1600PS: 1600 pico seconds delay</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_clock_delay</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_MINUS_1200PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_MINUS_800PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_MINUS_400PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_NONE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_PLUS_400PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_PLUS_800PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_PLUS_1200PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_PLUS_1600PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_csc_scaling - HDMI videostream format</span>
<span class="cm"> * @ADV7511_OUTPUT_FORMAT_RGB_444: Output format is RGB 444</span>
<span class="cm"> * @ADV7511_OUTPUT_FORMAT_YCBCR_422: Output format is YCbCr 422</span>
<span class="cm"> * @ADV7511_OUTPUT_FORMAT_YCBCR_444: Output format is YCbCr 444</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_output_format</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_OUTPUT_FORMAT_RGB_444</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_OUTPUT_FORMAT_YCBCR_422</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_OUTPUT_FORMAT_YCBCR_444</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_sync_polarity - Polarity for the input sync signals</span>
<span class="cm"> * ADV7511_SYNC_POLARITY_PASSTHROUGH:  Sync polarity matches that of the currently</span>
<span class="cm"> *                  configured mode.</span>
<span class="cm"> * ADV7511_SYNC_POLARITY_LOW:       Sync polarity is low</span>
<span class="cm"> * ADV7511_SYNC_POLARITY_HIGH:      Sync polarity is high</span>
<span class="cm"> *</span>
<span class="cm"> * If the polarity is set to either ADV7511_SYNC_POLARITY_LOW or</span>
<span class="cm"> * ADV7511_SYNC_POLARITY_HIGH the ADV7511 will internally invert the signal if</span>
<span class="cm"> * it is required to match the sync polarity setting for the currently selected</span>
<span class="cm"> * mode. If the polarity is set to ADV7511_SYNC_POLARITY_PASSTHROUGH, the ADV7511</span>
<span class="cm"> * will route the signal unchanged, this is useful if the upstream graphics core</span>
<span class="cm"> * will already generate the sync singals with the correct polarity.</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_sync_polarity</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_SYNC_POLARITY_PASSTHROUGH</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_SYNC_POLARITY_LOW</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_SYNC_POLARITY_HIGH</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_csc_scaling - Scaling factor for the ADV7511 CSC</span>
<span class="cm"> * @ADV7511_CSC_SCALING_1: CSC results are not scaled</span>
<span class="cm"> * @ADV7511_CSC_SCALING_2: CSC results are scaled by a factor of two</span>
<span class="cm"> * @ADV7511_CSC_SCALING_4: CSC results are scalled by a factor of four</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_csc_scaling</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_CSC_SCALING_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_CSC_SCALING_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_CSC_SCALING_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum adv7511_timing_gen_seq - Selects the order in which timing adjustments are performed</span>
<span class="cm"> * @ADV7511_TIMING_GEN_SEQ_SYN_ADJ_FIRST: Sync adjustment first, then DE generation</span>
<span class="cm"> * @ADV7511_TIMING_GEN_SEQ_DE_GEN_FIRST: DE generation first, then sync adjustment</span>
<span class="cm"> *</span>
<span class="cm"> * This setting is only relevant if both DE generation and sync adjustment are</span>
<span class="cm"> * active.</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_timing_gen_seq</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_TIMING_GEN_SEQ_SYN_ADJ_FIRST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_TIMING_GEN_SEQ_DE_GEN_FIRST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>


<span class="cm">/**</span>
<span class="cm"> * enum adv7511_up_conversion - Selects the upscaling conversion method</span>
<span class="cm"> * @ADV7511_UP_CONVERSION_ZERO_ORDER: Use zero order up conversion</span>
<span class="cm"> * @ADV7511_UP_CONVERSION_FIRST_ORDER: Use first order up conversion</span>
<span class="cm"> *</span>
<span class="cm"> * This used when converting from a 4:2:2 format to a 4:4:4 format.</span>
<span class="cm"> **/</span>
<span class="k">enum</span><span class="w"> </span><span class="n">adv7511_up_conversion</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADV7511_UP_CONVERSION_ZERO_ORDER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADV7511_UP_CONVERSION_FIRST_ORDER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct adv7511_video_input_config - Describes adv7511 hardware configuration</span>
<span class="cm"> * @id:             Video input format id</span>
<span class="cm"> * @input_style:        Video input format style</span>
<span class="cm"> * @sync_pulse:         Select the sync pulse</span>
<span class="cm"> * @clock_delay:        Clock delay for the input clock</span>
<span class="cm"> * @reverse_bitorder:       Reverse video input signal bitorder</span>
<span class="cm"> * @bit_justification:      Video input format bit justification</span>
<span class="cm"> * @up_conversion:      Selects the upscaling conversion method</span>
<span class="cm"> * @input_color_depth:      Input video format color depth</span>
<span class="cm"> * @tmds_clock_inversion:   Whether to invert the TDMS clock</span>
<span class="cm"> * @vsync_polartity:        vsync input signal configuration</span>
<span class="cm"> * @hsync_polartity:        hsync input signal configuration</span>
<span class="cm"> * @csc_enable:         Whether to enable color space conversion</span>
<span class="cm"> * @csc_scaling_factor:     Color space conversion scaling factor</span>
<span class="cm"> * @csc_coefficents:        Color space conversion coefficents</span>
<span class="cm"> * @output_format:      Video output format</span>
<span class="cm"> * @timing_gen_seq:     Selects the order in which sync DE generation</span>
<span class="cm"> *              and sync adjustment are performt.</span>
<span class="cm"> * @hdmi_mode:          Whether to use HDMI or DVI output mode</span>
<span class="cm"> **/</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">adv7511_video_input_config</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_id</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_style</span><span class="w"> </span><span class="n">input_style</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_sync_pulse</span><span class="w"> </span><span class="n">sync_pulse</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_clock_delay</span><span class="w"> </span><span class="n">clock_delay</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">reverse_bitorder</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_bit_justifiction</span><span class="w"> </span><span class="n">bit_justification</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_up_conversion</span><span class="w"> </span><span class="n">up_conversion</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_input_color_depth</span><span class="w"> </span><span class="n">input_color_depth</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">tmds_clock_inversion</span><span class="p">;</span>

<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_sync_polarity</span><span class="w"> </span><span class="n">vsync_polarity</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_sync_polarity</span><span class="w"> </span><span class="n">hsync_polarity</span><span class="p">;</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">csc_enable</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_csc_scaling</span><span class="w"> </span><span class="n">csc_scaling_factor</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">csc_coefficents</span><span class="p">;</span>

<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_output_format</span><span class="w"> </span><span class="n">output_format</span><span class="p">;</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adv7511_timing_gen_seq</span><span class="w"> </span><span class="n">timing_gen_seq</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">hdmi_mode</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<section id="example-configuration">
<h4>Example Configuration<a class="headerlink" href="#example-configuration" title="Link to this heading">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">adv7511_csc_ycbcr_to_rgb</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mh">0x0734</span><span class="p">,</span><span class="w"> </span><span class="mh">0x04ad</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0000</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1c1b</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x1ddc</span><span class="p">,</span><span class="w"> </span><span class="mh">0x04ad</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1f24</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0135</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x0000</span><span class="p">,</span><span class="w"> </span><span class="mh">0x04ad</span><span class="p">,</span><span class="w"> </span><span class="mh">0x087c</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1b77</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">adv7511_video_input_config</span><span class="w"> </span><span class="n">adv7511_config_zc702</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_INPUT_ID_16_20_24BIT_YCbCr422_SEPARATE_SYNC</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">input_style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_INPUT_STYLE1</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">sync_pulse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_INPUT_SYNC_PULSE_NONE</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">clock_delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_INPUT_CLOCK_DELAY_NONE</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">reverse_bitorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">vsync_polarity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_SYNC_POLARITY_HIGH</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">hsync_polarity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_SYNC_POLARITY_HIGH</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">up_conversion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_UP_CONVERSION_ZERO_ORDER</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">input_color_depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_INPUT_COLOR_DEPTH_8BIT</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">output_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_OUTPUT_FORMAT_RGB_444</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">csc_enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">csc_coefficents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adv7511_csc_ycbcr_to_rgb</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">csc_scaling_factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_CSC_SCALING_4</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">bit_justification</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADV7511_INPUT_BIT_JUSTIFICATION_RIGHT</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">tmds_clock_inversion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span>
<span class="p">};</span>

<span class="p">[...]</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">drm_encoder_slave_funcs</span><span class="w"> </span><span class="o">*</span><span class="n">sfuncs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_slave_funcs</span><span class="p">(</span><span class="n">encoder</span><span class="p">);</span>

<span class="w">    </span><span class="n">sfuncs</span><span class="o">-&gt;</span><span class="n">set_config</span><span class="p">(</span><span class="n">encoder</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adv7511_config_zc702</span><span class="p">);</span>
<span class="p">[...]</span>

</pre></div>
</div>
</section>
</section>
<section id="asoc">
<h3>ASoC<a class="headerlink" href="#asoc" title="Link to this heading">¶</a></h3>
</section>
<section id="dai-configuration">
<h3>DAI configuration<a class="headerlink" href="#dai-configuration" title="Link to this heading">¶</a></h3>
<p>The codec driver registers one DAI: <strong>adau-hifi</strong></p>
<section id="supported-dai-formats">
<h4>Supported DAI formats<a class="headerlink" href="#supported-dai-formats" title="Link to this heading">¶</a></h4>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Supported by driver</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SND_SOC_DAIFMT_I2S</td>
<td>yes</td>
<td>I2S mode</td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_RIGHT_J</td>
<td>yes</td>
<td>Right Justified mode</td>
</tr>
<tr class="odd">
<td>SND_SOC_DAIFMT_LEFT_J</td>
<td>yes</td>
<td>Left Justified mode</td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_DSP_A</td>
<td>no</td>
<td>data MSB after FRM LRC</td>
</tr>
<tr class="odd">
<td>SND_SOC_DAIFMT_DSP_B</td>
<td>no</td>
<td>data MSB during FRM LRC</td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_AC97</td>
<td>no</td>
<td>AC97 mode</td>
</tr>
<tr class="odd">
<td>SND_SOC_DAIFMT_PDM</td>
<td>no</td>
<td>Pulse density modulation</td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_SPDIF</td>
<td>yes</td>
<td>SPDIF</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_NB_NF</td>
<td>yes</td>
<td>Normal bit- and frameclock</td>
</tr>
<tr class="odd">
<td>SND_SOC_DAIFMT_NB_IF</td>
<td>no</td>
<td>Normal bitclock, inverted frameclock</td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_IB_NF</td>
<td>yes</td>
<td>Inverted frameclock, normal bitclock</td>
</tr>
<tr class="odd">
<td>SND_SOC_DAIFMT_IB_IF</td>
<td>no</td>
<td>Inverted bit- and frameclock</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>SND_SOC_DAIFMT_CBM_CFM</td>
<td>no</td>
<td>Codec bit- and frameclock master</td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_CBS_CFM</td>
<td>no</td>
<td>Codec bitclock slave, frameclock master</td>
</tr>
<tr class="odd">
<td>SND_SOC_DAIFMT_CBM_CFS</td>
<td>no</td>
<td>Codec bitclock master, frameclock slave</td>
</tr>
<tr class="even">
<td>SND_SOC_DAIFMT_CBS_CFS</td>
<td>yes</td>
<td>Codec bit- and frameclock slave</td>
</tr>
</tbody>
</table>
</section>
<section id="example-dai-configuration">
<h4>Example DAI configuration<a class="headerlink" href="#example-dai-configuration" title="Link to this heading">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">snd_soc_dai_link</span><span class="w"> </span><span class="n">hdmi_dai_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;HDMI&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">stream_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;HDMI&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">cpu_dai_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;75c00000.axi-spdif-tx&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">platform_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xilinx_pcm_audio.2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">codec_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;adv7511.0-0039&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">codec_dai_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;adv7511&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">dai_fmt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SND_SOC_DAIFMT_SPDIF</span><span class="w"> </span><span class="o">|</span>
<span class="w">            </span><span class="n">SND_SOC_DAIFMT_NB_NF</span><span class="w"> </span><span class="o">|</span>
<span class="w">            </span><span class="n">SND_SOC_DAIFMT_CBS_CFS</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">snd_soc_card</span><span class="w"> </span><span class="n">hdmi_card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;HDMI monitor&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">THIS_MODULE</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">dai_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">hdmi_dai_link</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">num_links</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="enabling-linux-driver-support">
<h2>Enabling Linux driver support<a class="headerlink" href="#enabling-linux-driver-support" title="Link to this heading">¶</a></h2>
<p>Configure kernel with “make menuconfig” (alternatively use “make xconfig” or
“make qconfig”)</p>
<p>&lt;WRAP round help&gt;
The ADV7511 Driver depends on <strong>CONFIG_DRM</strong> and <strong>CONFIG_I2C</strong>
&lt;/WRAP&gt;</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Linux Kernel Configuration
    Device Drivers  ---&gt;
        Graphics support  ---&gt;  
            &lt;*&gt; Direct Rendering Manager (XFree86 4.1.0 and higher DRI support)  ---&gt; 
            ...
            &lt;*&gt; AV7511 encoder
</pre></div>
</div>
</section>
<section id="more-information">
<h2>More information<a class="headerlink" href="#more-information" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#..//drm/hdl-axi-hdmi"><span class="xref myst">AXI HDMI HDL Linux Driver</span></a></p></li>
<li><p><a class="reference internal" href="#..//sound/hdl-axi-spidf"><span class="xref myst">HDL AXI SPIDF Linux Driver</span></a></p></li>
<li><p><a class="reference internal" href="#..//platforms/zynq"><span class="xref myst">Linux with HDMI video output on the ZED and ZC702 boards</span></a></p></li>
</ul>
<p>![](page&gt;resources/tools-software/linux-drivers/need_help#need help&amp;noheader&amp;firstseconly&amp;noeditbtn)</p>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../sound/ssm4567.html" title="Previous document" class="prev">SSM4567 Audio Amplifier Linux Driver</a>
    <a href="../../../guides/build.html" title="Next document" class="next">Building Kernels</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>

  
  <form action="" method="get" class="search-area">
    <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
    <button value="search"></button>
    <span id="search-progress"></span>
  </form>
  
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>