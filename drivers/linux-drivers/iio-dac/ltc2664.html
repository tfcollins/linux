<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LTC2664 IIO DAC Linux Driver &#8212; Linux Kernel: Variant from Analog Devices, Inc. v6.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/style.min.css?v=cf8483f0" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script src="../../../_static/documentation_options.js?v=cb43cce9"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    <script defer="" src="../../../_static/app.umd.js?v=96350458"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="LTC2947 High Precision Power and Energy Monitor" href="../hwmon/ltc2947.html" />
    <link rel="prev" title="HMC7044 Clock Jitter Attenuator with JESD204B Linux Driver" href="../iio-pll/hmc7044.html" />
   
  
    <meta name="robots" content="noindex">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <header>
    <div class="header">
      <div id="left">
        <label id="show-sidebar" for="input-show-toc" title="Show/hide index"></label>
      </div>
      <div id="right">
        <span>
          <a id="logo-org" href="https://analog.com"></a>
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a>
        </span>
        <span class="reverse">
          <label id="show-localtoc" for="input-show-localtoc" title="Show/hide contents"></label>
        </span>
      </div>
    </div>
    <div class="repotoc-tree">
      <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

    </div>
  </header>

    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">LTC2664 IIO DAC Linux Driver</a><ul>
<li><a class="reference internal" href="#supported-devices">Supported Devices</a></li>
<li><a class="reference internal" href="#evaluation-boards">Evaluation Boards</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a><ul>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#files">Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-platform-device-initialization">Example platform device initialization</a><ul>
<li><a class="reference internal" href="#devicetree">Devicetree</a></li>
</ul>
</li>
<li><a class="reference internal" href="#driver-testing">Driver testing</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../../../drivers_index.html">Linux Drivers</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1835a.html">AD1835A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1936.html">AD1933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1200.html">AD2S1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1210.html">AD2S1210</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s90.html">AD2S90</a></li>
<li class="toctree-l2"><a class="reference internal" href="axi-ad3552r.html">AD3552R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad400x.html">AD4003</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad4630.html">AD4030-24</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5064.html">AD5024</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/dpot.html">AD5160</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5446.html">AD5300</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5676.html">AD5310R</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5360.html">AD5360</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5380.html">AD5380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/ad5398.html">AD5398</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5449.html">AD5415</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5421.html">AD5421</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5504.html">AD5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5592r.html">AD5592R</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5593r.html">AD5593R</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5624r.html">AD5624</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5755.html">AD5735</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5764.html">AD5744</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5758.html">AD5758</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5791.html">AD5760</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad5770r.html">AD5770R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-impedance-analyzer/ad5933.html">AD5933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad6676.html">AD6676</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9208.html">AD6684</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7476a.html">AD7091</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r5.html">AD7091R-5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r8.html">AD7091R-8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7124.html">AD7124-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/ad714x.html">AD7142</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7150.html">AD7150</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7152.html">AD7152</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7780.html">AD7170</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7192.html">AD7190</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7266.html">AD7265</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7280a.html">AD7280A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7291.html">AD7291</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7298.html">AD7298</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad73322.html">AD73311</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad738x.html">AD7380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-addac/ad74413r.html">AD74412R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7606.html">AD7605-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7745.html">AD7745</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7766.html">AD7766-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768-1.html">AD7768-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768.html">AD7768</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7793.html">AD7785</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7791.html">AD7787</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7873.html">AD7843</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7877.html">AD7877</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7879.html">AD7879-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7887.html">AD7887</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7998.html">AD7991</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ad8366.html">AD8366</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-mxfe/ad9081.html">AD9081</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9083.html">AD9083</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/axi-dac-dds-hdl.html">AD9122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9162.html">AD9161</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/tools-software/linux-drivers/iio-adc/ad9208.html">AD9208</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/axi-adc-hdl.html">AD9234</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9361.html">AD9361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9371.html">AD9371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9508.html">AD9508</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9517.html">AD9516-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9523.html">AD9523-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9528.html">AD9528</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clk/adi/clk-ad9545.c.html">AD9545</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/ad9832.html">AD9832</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/ad9834.html">AD9833</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ada4250.html">ADA4250</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adaq8092.html">ADAQ8092</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adar1000.html">ADAR1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adas1000.html">ADAS1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1361.html">ADAU1361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1372.html">ADAU1372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1373.html">ADAU1373</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1381.html">ADAU1381</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1701.html">ADAU1401</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1977.html">ADAU1977</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7002.html">ADAU7002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7118.html">ADAU7118</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adav801.html">ADAV801</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4159.html">ADF4159</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4350.html">ADF4350</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf5355.html">ADF4355-2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4360.html">ADF4360-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4371.html">ADF4371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4377.html">ADF4377</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking-mac802154/adf7242.html">ADF7241</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mux/adgs1408.html">ADGS1408</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin1100.html">ADIN1100</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin1110.html">ADIN1110</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin.html">ADIN1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin2111.html">ADIN2111</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16060.html">ADIS16060</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16080.html">ADIS16080</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16130.html">ADIS16130</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16136.html">ADIS16133</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16201.html">ADIS16201</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16203.html">ADIS16203</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16209.html">ADIS16209</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16240.html">ADIS16240</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16260.html">ADIS16250</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16400.html">ADIS16300</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16480.html">ADIS16375</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16475.html">ADIS16460</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-vector-power/adl5960.html">ADL5960</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1013.html">ADMV1013</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1014.html">ADMV1014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-filter/admv8818.html">ADMV8818</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/adp150.html">ADP122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../leds/adp1650.html">ADP1650</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multifunction-device/adp5520.html">ADP5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5589.html">ADP5585</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5588.html">ADP5587</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8860.html">ADP8860</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8870.html">ADP8870</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adrf6780.html">ADRF6780</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9002.html">ADRV9002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9009.html">ADRV9008-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm/adv7511.html">ADV7511</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl313.html">ADXL312,</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl345.html">ADXL345</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl355.html">ADXL355</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl362.html">ADXL362</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl367.html">ADXL367</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl372.html">ADXL372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adxrs450.html">ADXRS450</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/axi_fan_control.html">Fan Control IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/hmc425a.html">HMC425</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/hmc7044.html">HMC7043</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">LTC2664</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/ltc2947.html">LTC2947</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-temperature/ltc2983.html">LTC2983</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ltc6952.html">LTC6952</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serial/max310x.html">MAX14830</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/open_alliance.html">Open Alliance - 10BASE-T1x MAC-PHY Serial Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm2602.html">SSM2602</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm4567.html">SSM4567</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/build.html">Building Kernels</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="ltc2664-iio-dac-linux-driver">
<h1>LTC2664 IIO DAC Linux Driver<a class="headerlink" href="#ltc2664-iio-dac-linux-driver" title="Link to this heading">¶</a></h1>
<p>The LTC2664 is a family of four-channel, 16-/12-bit ±10V digital-to-analog converters with integrated precision references. They are guaranteed monotonic and have built-in rail-to-rail output buffers. These SoftSpan™ DACs offer five output ranges up to ±10V. The range of each channel is independently programmable, or the part can be hardware-configured for operation in a fixed range.</p>
<p>The integrated 2.5V reference is buffered separately to each channel; an external reference can be used for additional range options. The LTC2664 also includes A/B toggle capability via a dedicated pin or software toggle command.</p>
<p>The SPI/Microwire-compatible 3-wire serial interface operates on logic levels as low as 1.71V at clock rates up to 50MHz.</p>
<section id="supported-devices">
<h2>Supported Devices<a class="headerlink" href="#supported-devices" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/LTC2664">LTC2664</a></p></li>
</ul>
</section>
<section id="evaluation-boards">
<h2>Evaluation Boards<a class="headerlink" href="#evaluation-boards" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/DC2376A-A">DC2376A-A</a></p></li>
</ul>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>This is a Linux industrial I/O (<a class="reference internal" href="#/software/linux/docs/iio/iio"><span class="xref myst">IIO</span></a>) subsystem driver, targeting single-channel serial interface DACs.
The industrial I/O subsystem provides a unified framework for drivers for many different types of converters and sensors using a number of different physical interfaces (i2c, spi, etc).
See <a class="reference internal" href="#/software/linux/docs/iio/iio"><span class="xref myst">IIO</span></a> for more information.</p>
</section>
<section id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Link to this heading">¶</a></h2>
<section id="status">
<h3>Status<a class="headerlink" href="#status" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Source</th>
<th>Mainlined?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="git.linux.org&gt;drivers/iio/dac/ltc2664.c">git</a></td>
<td><a href="git.linux.org&gt;drivers/iio/dac/ltc2664.c">WIP</a></td>
</tr>
</tbody>
</table>
</section>
<section id="files">
<h3>Files<a class="headerlink" href="#files" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>File</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>driver</td>
<td><a href="https://github.com/analogdevicesinc/linux/main?drivers/iio/dac/ltc2664.c">master?drivers/iio/dac/ltc2664.c</a></td>
</tr>
<tr class="even">
<td>dt-bindings</td>
<td><a href="https://github.com/analogdevicesinc/linux/main?Documentation/devicetree/bindings/iio/dac/adi,ltc2664.yaml">master?Documentation/devicetree/bindings/iio/dac/adi,ltc2664.yaml</a></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="example-platform-device-initialization">
<h2>Example platform device initialization<a class="headerlink" href="#example-platform-device-initialization" title="Link to this heading">¶</a></h2>
<section id="devicetree">
<h3>Devicetree<a class="headerlink" href="#devicetree" title="Link to this heading">¶</a></h3>
<p>Required devicetree properties:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">compatible</span></code>: Needs to be “adi,” followed by the name of the device. E.g. “adi,ltc2664”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reg</span></code>: The chipselect number used for the device</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spi-max-frequency</span></code>: Maximum SPI clock frequency</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Vdd-supply</span></code>: VDD voltage supply regulator</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iovcc-supply</span></code>: Digital Input/Output Supply Voltage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">adi,manual-span-operation-config</span></code>:</p></li>
<li><p>Channel nodes with <code class="docutils literal notranslate"><span class="pre">reg</span></code>, <code class="docutils literal notranslate"><span class="pre">adi,manual-span-operation-config</span></code> and optionally <code class="docutils literal notranslate"><span class="pre">adi,toggle-mode</span></code> properties.</p></li>
</ul>
<p>Optional devicetree properties:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vref-supply</span></code>: external reference voltage supply regulator. This should only be set if there is an external reference voltage connected to the REF pin.</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>adi,manual-span-operation-config:
  description:
    This property must mimic the MSPAN pin configurations.
    By tying the MSPAN pins (MSP2, MSP1 and MSP0) to GND
    and/or VCC, any output range can be hardware-configured
    with different mid-scale or zero-scale reset options.
    The driver needs to be aware of this HW configuration
    latched during power on reset for proper operation.
      0 - MPS2=GND, MPS1=GND, MSP0=GND
      1 - MPS2=GND, MPS1=GND, MSP0=VCC
      2 - MPS2=GND, MPS1=VCC, MSP0=GND
      3 - MPS2=GND, MPS1=VCC, MSP0=VCC
      4 - MPS2=VCC, MPS1=GND, MSP0=GND
      5 - MPS2=VCC, MPS1=GND, MSP0=VCC
      6 - MPS2=VCC, MPS1=VCC, MSP0=GND
      7 - MPS2=VCC, MPS1=VCC, MSP0=VCC (enables SoftSpan feature)

&amp;{/} {
    vcc: fixedregulator@1 {
        compatible = &quot;regulator-fixed&quot;;
        regulator-name = &quot;vcc-supply&quot;;
        regulator-min-microvolt = &lt;5000000&gt;;
        regulator-max-microvolt = &lt;5000000&gt;;
    };
};

&amp;spi0 {
    #address-cells = &lt;1&gt;;
    #size-cells = &lt;0&gt;;
    status = &quot;okay&quot;;

    ltc2688: ltc2688@0 {
        compatible = &quot;adi,ltc2664&quot;;
        reg = &lt;0&gt;;
        spi-max-frequency = &lt;5000000&gt;;

        #address-cells = &lt;1&gt;;
        #size-cells = &lt;0&gt;;

        vcc-supply = &lt;&amp;vcc&gt;;
        iovcc-supply = &lt;&amp;vcc&gt;;

        adi,manual-span-operation-config = &lt;7&gt;;

        channel@0 {
            reg = &lt;0&gt;;
            adi,output-range-microvolt = &lt;(-10000000) 10000000&gt;;
        };

        channel@1 {
            reg = &lt;1&gt;;
            adi,output-range-microvolt = &lt;(-10000000) 10000000&gt;;
            adi,toggle-mode;
        };

        channel@2 {
            reg = &lt;2&gt;;
            adi,output-range-microvolt = &lt;(-10000000) 10000000&gt;;
        };

        channel@3 {
            reg = &lt;3&gt;;
            adi,output-range-microvolt = &lt;(-10000000) 10000000&gt;;
        };
    };
};
</pre></div>
</div>
</section>
</section>
<section id="driver-testing">
<h2>Driver testing<a class="headerlink" href="#driver-testing" title="Link to this heading">¶</a></h2>
<!-- CMDS: noheader firstseconly noeditbtn -->
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:/&gt;<span class="w"> </span>**cd<span class="w"> </span>/sys/bus/iio/devices/**
root@analog:/sys/bus/iio/devices&gt;<span class="w"> </span>**ls**
iio:device0

root@analog:/sys/bus/iio/devices&gt;<span class="w"> </span>**cd<span class="w"> </span>iio:device0**

root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**ls<span class="w"> </span>-l**
total<span class="w"> </span><span class="m">0</span>
drwxr-xr-x<span class="w"> </span><span class="m">3</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>.
drwxr-xr-x<span class="w"> </span><span class="m">5</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>..
-r--r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>name
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>of_node<span class="w"> </span>-&gt;<span class="w"> </span>../../../../../../../../firmware/devicetree/base/soc/spi@7e204000/ltc2688@0
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage0_offset
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">09</span>:59<span class="w"> </span>out_voltage0_powerdown
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">10</span>:18<span class="w"> </span>out_voltage0_raw
-r--r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage0_raw_available
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage0_scale
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage1_offset
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage1_powerdown
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">10</span>:18<span class="w"> </span>out_voltage1_raw0
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">10</span>:18<span class="w"> </span>out_voltage1_raw1
-r--r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage1_raw_available
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage1_scale
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage1_symbol
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage1_toggle_en
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage2_offset
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage2_powerdown
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">10</span>:18<span class="w"> </span>out_voltage2_raw
-r--r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage2_raw_available
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage2_scale
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage3_offset
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage3_powerdown
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">10</span>:18<span class="w"> </span>out_voltage3_raw
-r--r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage3_raw_available
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>out_voltage3_scale
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>power
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>subsystem<span class="w"> </span>-&gt;<span class="w"> </span>../../../../../../../../bus/iio
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>uevent
-r--r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">16</span>:17<span class="w"> </span>waiting_for_supplier
root@analog:/sys/bus/iio/devices/iio:device0#
</pre></div>
</div>
<div class="docutils">
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:~#<span class="w"> </span>**iio_info**
iio_info<span class="w"> </span>version:<span class="w"> </span><span class="m">0</span>.25<span class="w"> </span><span class="o">(</span>git<span class="w"> </span>&lt;tag:8fb78e06&gt;<span class="o">)</span>
Libiio<span class="w"> </span>version:<span class="w"> </span><span class="m">0</span>.25<span class="w"> </span><span class="o">(</span>git<span class="w"> </span>tag:<span class="w"> </span>8fb78e0<span class="o">)</span><span class="w"> </span>backends:<span class="w"> </span><span class="nb">local</span><span class="w"> </span>xml<span class="w"> </span>ip<span class="w"> </span>usb<span class="w"> </span>serial
IIO<span class="w"> </span>context<span class="w"> </span>created<span class="w"> </span>with<span class="w"> </span><span class="nb">local</span><span class="w"> </span>backend.
Backend<span class="w"> </span>version:<span class="w"> </span><span class="m">0</span>.25<span class="w"> </span><span class="o">(</span>git<span class="w"> </span>tag:<span class="w"> </span>8fb78e0<span class="o">)</span>
Backend<span class="w"> </span>description<span class="w"> </span>string:<span class="w"> </span>Linux<span class="w"> </span>analog<span class="w"> </span><span class="m">6</span>.1.54-v7l+<span class="w"> </span><span class="c1">#3472 SMP Thu Jan 25 16:22:37 CET 2024 armv7l</span>
IIO<span class="w"> </span>context<span class="w"> </span>has<span class="w"> </span><span class="m">9</span><span class="w"> </span>attributes:

<span class="w">      </span>hw_carrier:<span class="w"> </span>Raspberry<span class="w"> </span>Pi<span class="w"> </span><span class="m">4</span><span class="w"> </span>Model<span class="w"> </span>B<span class="w"> </span>Rev<span class="w"> </span><span class="m">1</span>.4
<span class="w">      </span>dtoverlay:<span class="w"> </span>rpi-ltc2664,vc4-kms-v3d
<span class="w">      </span>hw_model:<span class="w"> </span>0x0001<span class="w"> </span>on<span class="w"> </span>Raspberry<span class="w"> </span>Pi<span class="w"> </span><span class="m">4</span><span class="w"> </span>Model<span class="w"> </span>B<span class="w"> </span>Rev<span class="w"> </span><span class="m">1</span>.4
<span class="w">      </span>hw_mezzanine:<span class="w"> </span>0x0001
<span class="w">      </span>hw_name:<span class="w"> </span>PMD-RPI-INTZ
<span class="w">      </span>hw_vendor:<span class="w"> </span>Analog<span class="w"> </span>Devices,<span class="w"> </span>Inc.
<span class="w">      </span>hw_serial:<span class="w"> </span>13837e96-186d-45af-ac0b-e252c8d49a78
<span class="w">      </span>local,kernel:<span class="w"> </span><span class="m">6</span>.1.54-v7l+
<span class="w">      </span>uri:<span class="w"> </span>local:

IIO<span class="w"> </span>context<span class="w"> </span>has<span class="w"> </span><span class="m">2</span><span class="w"> </span>devices:

<span class="w">      </span>hwmon0:<span class="w"> </span>rpi_volt
<span class="w">          </span><span class="m">1</span><span class="w"> </span>channels<span class="w"> </span>found:
<span class="w">              </span>in0:<span class="w">  </span><span class="o">(</span>input<span class="o">)</span>
<span class="w">              </span><span class="m">1</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes<span class="w"> </span>found:
<span class="w">                  </span>attr<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>lcrit_alarm<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>
<span class="w">          </span>No<span class="w"> </span>trigger<span class="w"> </span>on<span class="w"> </span>this<span class="w"> </span>device
<span class="w">      </span>iio:device0:<span class="w"> </span>ltc2664
<span class="w">          </span><span class="m">4</span><span class="w"> </span>channels<span class="w"> </span>found:
<span class="w">              </span>voltage2:<span class="w">  </span><span class="o">(</span>output<span class="o">)</span>
<span class="w">              </span><span class="m">5</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes<span class="w"> </span>found:
<span class="w">                  </span>attr<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>offset<span class="w"> </span>value:<span class="w"> </span>-32768
<span class="w">                  </span>attr<span class="w">  </span><span class="m">1</span>:<span class="w"> </span>powerdown<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">2</span>:<span class="w"> </span>raw<span class="w"> </span>value:<span class="w"> </span><span class="m">1000</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">3</span>:<span class="w"> </span>raw_available<span class="w"> </span>value:<span class="w"> </span><span class="o">[</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">65535</span><span class="o">]</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">4</span>:<span class="w"> </span>scale<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>.305175781
<span class="w">              </span>voltage0:<span class="w">  </span><span class="o">(</span>output<span class="o">)</span>
<span class="w">              </span><span class="m">5</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes<span class="w"> </span>found:
<span class="w">                  </span>attr<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>offset<span class="w"> </span>value:<span class="w"> </span>-32768
<span class="w">                  </span>attr<span class="w">  </span><span class="m">1</span>:<span class="w"> </span>powerdown<span class="w"> </span>value:<span class="w"> </span><span class="m">1</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">2</span>:<span class="w"> </span>raw<span class="w"> </span>value:<span class="w"> </span><span class="m">58000</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">3</span>:<span class="w"> </span>raw_available<span class="w"> </span>value:<span class="w"> </span><span class="o">[</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">65535</span><span class="o">]</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">4</span>:<span class="w"> </span>scale<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>.305175781
<span class="w">              </span>voltage3:<span class="w">  </span><span class="o">(</span>output<span class="o">)</span>
<span class="w">              </span><span class="m">5</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes<span class="w"> </span>found:
<span class="w">                  </span>attr<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>offset<span class="w"> </span>value:<span class="w"> </span>-32768
<span class="w">                  </span>attr<span class="w">  </span><span class="m">1</span>:<span class="w"> </span>powerdown<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">2</span>:<span class="w"> </span>raw<span class="w"> </span>value:<span class="w"> </span><span class="m">42000</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">3</span>:<span class="w"> </span>raw_available<span class="w"> </span>value:<span class="w"> </span><span class="o">[</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">65535</span><span class="o">]</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">4</span>:<span class="w"> </span>scale<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>.305175781
<span class="w">              </span>voltage1:<span class="w">  </span><span class="o">(</span>output<span class="o">)</span>
<span class="w">              </span><span class="m">8</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes<span class="w"> </span>found:
<span class="w">                  </span>attr<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>offset<span class="w"> </span>value:<span class="w"> </span>-32768
<span class="w">                  </span>attr<span class="w">  </span><span class="m">1</span>:<span class="w"> </span>powerdown<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">2</span>:<span class="w"> </span>raw0<span class="w"> </span>value:<span class="w"> </span><span class="m">22000</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">3</span>:<span class="w"> </span>raw1<span class="w"> </span>value:<span class="w"> </span><span class="m">24000</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">4</span>:<span class="w"> </span>raw_available<span class="w"> </span>value:<span class="w"> </span><span class="o">[</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">65535</span><span class="o">]</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">5</span>:<span class="w"> </span>scale<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>.305175781
<span class="w">                  </span>attr<span class="w">  </span><span class="m">6</span>:<span class="w"> </span>symbol<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>
<span class="w">                  </span>attr<span class="w">  </span><span class="m">7</span>:<span class="w"> </span>toggle_en<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>
<span class="w">          </span><span class="m">1</span><span class="w"> </span>device-specific<span class="w"> </span>attributes<span class="w"> </span>found:
<span class="w">                  </span>attr<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>waiting_for_supplier<span class="w"> </span>value:<span class="w"> </span><span class="m">0</span>
<span class="w">          </span><span class="m">1</span><span class="w"> </span>debug<span class="w"> </span>attributes<span class="w"> </span>found:
<span class="w">                  </span>debug<span class="w"> </span>attr<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>direct_reg_access<span class="w"> </span>ERROR:<span class="w"> </span>Operation<span class="w"> </span>not<span class="w"> </span>supported<span class="w"> </span><span class="o">(</span><span class="m">95</span><span class="o">)</span>
<span class="w">          </span>No<span class="w"> </span>trigger<span class="w"> </span>on<span class="w"> </span>this<span class="w"> </span>device

root@analog:~#
</pre></div>
</div>
<div class="docutils">
<h5 class="rubric" id="show-device-name">Show device name</h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**cat<span class="w"> </span>name**
ltc2664
</pre></div>
</div>
<div class="docutils">
<h5 class="rubric" id="show-scale">Show scale</h5>
<p><strong>Description:</strong>
scale to be applied to out_voltage0_raw and out_voltage1_raw in order to obtain the measured voltage in millivolts.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**cat<span class="w"> </span>out_voltage_scale**
<span class="m">0</span>.305175781
</pre></div>
</div>
<div class="docutils">
<h5 class="rubric" id="show-offset">Show offset</h5>
<p><strong>Description:</strong>
/sys/bus/iio/devices/iio:deviceX/out_offset_raw
Raw offset to be applied to out_voltage_raw in order to obtain the measured voltage in millivolts.
The offset is applied before scale is applied.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**cat<span class="w"> </span>out_voltage_offset**
-32768
</pre></div>
</div>
<div class="docutils">
<h5 class="rubric" id="set-channel-y-output-voltage">Set channel Y output voltage</h5>
<p><strong>Description:</strong>
/sys/bus/iio/devices/iio:deviceX/out_voltageY_raw
Raw (unscaled, no bias etc.) output voltage for
channel Y.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**echo<span class="w"> </span><span class="m">10000</span><span class="w"> </span>&gt;<span class="w"> </span>out_voltage0_raw**
</pre></div>
</div>
<div class="docutils">
<p><strong>U</strong> = <em>(out_voltage0_raw + out_voltage0_offset) * out_voltage0_scale</em> = (10000 - 32768) * 0.305175781<em>mV</em> = <strong>-6948.24 <em>mV</em></strong></p>
<h5 class="rubric" id="enable-power-down-mode-on-output-y">Enable power down mode on output Y</h5>
<p>/sys/bus/iio/devices/iio:deviceX/out_voltageY_powerdown</p>
<p><strong>Description:</strong>
Writing 1 causes output Y to enter the power down mode. Clearing returns to normal operation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**echo<span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>out_voltage0_powerdown**
root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**cat<span class="w"> </span>out_voltage0_powerdown**
<span class="m">1</span>
root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**echo<span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>out_voltage0_powerdown**
root@analog:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>**cat<span class="w"> </span>out_voltage0_powerdown**
<span class="m">0</span>
</pre></div>
</div>
<div class="docutils">
<h2 class="rubric" id="test-example">Test example</h2>
<p><strong>Using:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/DC2376A-A">DC2376A-A</a> LTC2664-16 Demo Board</p></li>
<li><p><a class="reference external" href="https://analog.com/PMD-RPI-INTZ">PMD-RPI-INTZ</a> Raspberry Pi to PMOD/QuikEval™/LTpowerPlay® Adaptor HAT</p></li>
<li><p>Raspberry Pi 4</p></li>
<li><p><a class="reference internal" href="#/resources/tools-software/linux-software/libiio/iio_attr"><span class="xref myst">iio_attr</span></a> part of the Libiio package.</p></li>
</ul>
<img alt="../../../_images/ltc2664.jpg" src="../../../_images/ltc2664.jpg" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: box="" bggreen="" -->
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<!-- ATTRS: info="" -->
<p>This specifies any shell prompt running on the target</p>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:~#<span class="w"> </span>**iio_attr<span class="w"> </span>-c**
IIO<span class="w"> </span>context<span class="w"> </span>has<span class="w"> </span><span class="m">2</span><span class="w"> </span>devices:

<span class="w">      </span>hwmon0,<span class="w"> </span>rpi_volt:<span class="w"> </span>found<span class="w"> </span><span class="m">1</span><span class="w"> </span>channels
<span class="w">      </span>iio:device0,<span class="w"> </span>ltc2664:<span class="w"> </span>found<span class="w"> </span><span class="m">4</span><span class="w"> </span>channels

root@analog:~#<span class="w"> </span>**iio_attr<span class="w"> </span>-c<span class="w"> </span>ltc2664**
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage2&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>found<span class="w"> </span><span class="m">5</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage0&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>found<span class="w"> </span><span class="m">5</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage3&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>found<span class="w"> </span><span class="m">5</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage1&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>found<span class="w"> </span><span class="m">8</span><span class="w"> </span>channel-specific<span class="w"> </span>attributes

root@analog:~#<span class="w"> </span>**iio_attr<span class="w"> </span>-c<span class="w"> </span>ltc2664<span class="w"> </span>voltage0**
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage0&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>attr<span class="w"> </span><span class="s1">&#39;offset&#39;</span>,<span class="w"> </span>value<span class="w"> </span><span class="s1">&#39;-32768&#39;</span>
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage0&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>attr<span class="w"> </span><span class="s1">&#39;powerdown&#39;</span>,<span class="w"> </span>value<span class="w"> </span><span class="s1">&#39;1&#39;</span>
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage0&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>attr<span class="w"> </span><span class="s1">&#39;raw&#39;</span>,<span class="w"> </span>value<span class="w"> </span><span class="s1">&#39;1&#39;</span>
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage0&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>attr<span class="w"> </span><span class="s1">&#39;raw_available&#39;</span>,<span class="w"> </span>value<span class="w"> </span><span class="s1">&#39;[0 1 65535]&#39;</span>
dev<span class="w"> </span><span class="s1">&#39;ltc2664&#39;</span>,<span class="w"> </span>channel<span class="w"> </span><span class="s1">&#39;voltage0&#39;</span><span class="w"> </span><span class="o">(</span>output<span class="o">)</span>,<span class="w"> </span>attr<span class="w"> </span><span class="s1">&#39;scale&#39;</span>,<span class="w"> </span>value<span class="w"> </span><span class="s1">&#39;0.305175781&#39;</span>

root@analog:~#<span class="w"> </span>**iio_attr<span class="w"> </span>-c<span class="w"> </span>ltc2664<span class="w"> </span>voltage0<span class="w"> </span>raw<span class="w"> </span><span class="m">10000</span>**
<span class="m">10000</span>
root@analog:~#
</pre></div>
</div>
<div class="docutils">
<h2 class="rubric" id="more-information">More Information</h2>
<!-- CMDS: noheader firstseconly noeditbtn -->
</div>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../iio-pll/hmc7044.html" title="Previous document" class="prev">HMC7044 Clock Jitter Attenuator with JESD204B Linux Driver</a>
    <a href="../hwmon/ltc2947.html" title="Next document" class="next">LTC2947 High Precision Power and Energy Monitor</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>

  
  <form action="" method="get" class="search-area">
    <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
    <button value="search"></button>
    <span id="search-progress"></span>
  </form>
  
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>