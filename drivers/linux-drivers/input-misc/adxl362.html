<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ADXL362 Input 3-Axis Digital Accelerometer Linux Driver &#8212; Linux Kernel: Variant from Analog Devices, Inc. v6.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/style.min.css?v=cf8483f0" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script src="../../../_static/documentation_options.js?v=cb43cce9"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    <script defer="" src="../../../_static/app.umd.js?v=96350458"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ADXL367 Input 3-Axis Digital Accelerometer Linux Driver" href="../iio-accelerometer/adxl367.html" />
    <link rel="prev" title="ADXL355 Low Noise, Low Drift, Low Power, 3-Axis MEMS Accelerometers" href="../iio-accelerometer/adxl355.html" />
   
  
    <meta name="robots" content="noindex">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <header>
    <div class="header">
      <div id="left">
        <label id="show-sidebar" for="input-show-toc" title="Show/hide index"></label>
      </div>
      <div id="right">
        <span>
          <a id="logo-org" href="https://analog.com"></a>
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a>
        </span>
        <span class="reverse">
          <label id="show-localtoc" for="input-show-localtoc" title="Show/hide contents"></label>
        </span>
      </div>
    </div>
    <div class="repotoc-tree">
      <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

    </div>
  </header>

    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">ADXL362 Input 3-Axis Digital Accelerometer Linux Driver</a><ul>
<li><a class="reference internal" href="#supported-devices">Supported Devices</a></li>
<li><a class="reference internal" href="#reference-circuits">Reference Circuits</a></li>
<li><a class="reference internal" href="#evaluation-boards">Evaluation Boards</a></li>
<li><a class="reference internal" href="#adxl362-micropower-3-axis-mems-accelerometer-digital-output-2-4-8-g-range">ADXL362: Micropower 3-Axis MEMS Accelerometer: Digital Output, ±2/±4/±8 g Range</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a><ul>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#files">Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-platform-device-initialization">Example platform device initialization</a></li>
<li><a class="reference internal" href="#declaring-spi-slave-devices">Declaring SPI slave devices</a><ul>
<li><a class="reference internal" href="#adding-linux-driver-support">Adding Linux driver support</a></li>
<li><a class="reference internal" href="#hardware-configuration">Hardware configuration</a></li>
<li><a class="reference internal" href="#driver-testing">Driver testing</a><ul>
<li><a class="reference internal" href="#driver-compiled-as-a-module">Driver compiled as a module</a></li>
<li><a class="reference internal" href="#driver-compiled-into-the-kernel">Driver compiled into the kernel</a></li>
<li><a class="reference internal" href="#common-problems">Common Problems</a></li>
<li><a class="reference internal" href="#checking-for-proper-installation">Checking for proper installation</a></li>
<li><a class="reference internal" href="#use-the-event-test-utility-to-test-proper-function">Use the event_test utility to test proper function</a></li>
<li><a class="reference internal" href="#adxl34x-sysfs-runtime-controls">ADXL34x Sysfs runtime controls</a><ul>
<li><a class="reference internal" href="#controlling-the-output-data-rate">Controlling the Output Data Rate</a></li>
<li><a class="reference internal" href="#enabling-disabling-autosleep-upon-inactivity">Enabling / Disabling Autosleep Upon Inactivity</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#more-information">More Information</a><ul>
<li><a class="reference internal" href="#adxl362-6-android-acceleration-sensor">ADXL362/6 Android Acceleration Sensor</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../guides/build.html">Building Kernels</a></li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../../../drivers_index.html">Linux Drivers</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../multifunction-device/adp5520.html">ADP5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8860.html">ADP8860</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8870.html">ADP8870</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clk/adi/clk-ad9545.c.html">AD9545</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5588.html">ADP5587</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5589.html">ADP5585</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/axi_fan_control.html">Fan Control IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/ltc2947.html">LTC2947</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin1100.html">ADIN1100</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin.html">ADIN1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin1110.html">ADIN1110</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin2111.html">ADIN2111</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/open_alliance.html">Open Alliance - 10BASE-T1x MAC-PHY Serial Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl313.html">ADXL312,</a></li>
<li class="toctree-l2"><a class="reference internal" href="adxl345.html">ADXL345</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl355.html">ADXL355</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ADXL362</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl367.html">ADXL367</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl372.html">ADXL372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16201.html">ADIS16201</a></li>
</ul>
</li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="adxl362-input-3-axis-digital-accelerometer-linux-driver">
<h1>ADXL362 Input 3-Axis Digital Accelerometer Linux Driver<a class="headerlink" href="#adxl362-input-3-axis-digital-accelerometer-linux-driver" title="Link to this heading">#</a></h1>
<section id="supported-devices">
<h2>Supported Devices<a class="headerlink" href="#supported-devices" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/ADXL362">ADXL362</a></p></li>
</ul>
</section>
<section id="reference-circuits">
<h2>Reference Circuits<a class="headerlink" href="#reference-circuits" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/CN0274">CN0274</a></p></li>
</ul>
</section>
<section id="evaluation-boards">
<h2>Evaluation Boards<a class="headerlink" href="#evaluation-boards" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/EVAL-ADXL362Z">EVAL-ADXL362Z</a></p></li>
<li><p><a class="reference external" href="https://analog.com/EVAL-ADXL362Z-DB">EVAL-ADXL362Z-DB</a></p></li>
<li><p><a class="reference external" href="https://analog.com/EVAL-ADXL362Z-MLP">EVAL-ADXL362Z-MLP</a></p></li>
<li><p><a class="reference external" href="https://analog.com/EVAL-ADXL362Z-S">EVAL-ADXL362Z-S</a></p></li>
</ul>
</section>
<section id="adxl362-micropower-3-axis-mems-accelerometer-digital-output-2-4-8-g-range">
<h2>ADXL362: Micropower 3-Axis MEMS Accelerometer: Digital Output, ±2/±4/±8 g Range<a class="headerlink" href="#adxl362-micropower-3-axis-mems-accelerometer-digital-output-2-4-8-g-range" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/ADXL362">Product Page</a></p></li>
<li><p><img alt="" src="drivers/linux-drivers/input-misc/scrape%3Eadi%3EADXL362#datasheet-details" /></p></li>
</ul>
</section>
<section id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Link to this heading">#</a></h2>
<section id="status">
<h3>Status<a class="headerlink" href="#status" title="Link to this heading">#</a></h3>
<table>
<thead>
<tr class="header">
<th>Source</th>
<th>Mainlined?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="linux.github&gt;adxl362?drivers/input/misc/adxl362.c">git</a></td>
<td><a href="git.linux.org&gt;drivers/input/misc/adxl362.c">In Progress</a></td>
</tr>
</tbody>
</table>
</section>
<section id="files">
<h3>Files<a class="headerlink" href="#files" title="Link to this heading">#</a></h3>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>File</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>driver</td>
<td><a href="linux.github&gt;adxl362?drivers/input/misc/adxl362.c">drivers/input/misc/adxl362.c</a></td>
</tr>
<tr class="even">
<td>include</td>
<td><a href="linux.github&gt;adxl362?include/linux/input/adxl362.h">include/linux/input/adxl362.h</a></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="example-platform-device-initialization">
<h2>Example platform device initialization<a class="headerlink" href="#example-platform-device-initialization" title="Link to this heading">#</a></h2>
<!-- CMDS: noheader firstseconly noeditbtn -->
<p>For compile time configuration, it’s common Linux practice to keep board- and application-specific configuration out of the main driver file, instead putting it into the board support file.</p>
<p>Digital Accelerometer characteristics are application specific and may vary between boards and models.
The platform_data for the device’s “struct device” holds this information.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="n">adxl_odr</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADXL_ODR_12_5HZ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_ODR_25HZ</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_ODR_50HZ</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_ODR_100HZ</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_ODR_200HZ</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_ODR_400HZ</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span><span class="w"> </span><span class="n">adxl_g_range</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADXL_RANGE_PM_2g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_RANGE_PM_4g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_RANGE_PM_8g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span><span class="w"> </span><span class="n">adxl_power_mode</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ADXL_NORM_OPERATION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_LOW_NOISE_MODE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">ADXL_ULTRA_LOW_NOISE_MODE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">adxl362_platform_data</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * data_range:</span>
<span class="cm">     * Measurement range selection +/- 2,4,8 g</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adxl_g_range</span><span class="w"> </span><span class="n">data_range</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * low_power_mode:</span>
<span class="cm">     * Power versus noise tradeoff.</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adxl_power_mode</span><span class="w"> </span><span class="n">low_power_mode</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * data_rate:</span>
<span class="cm">     * Selects the output data rate (ODR).</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">adxl_odr</span><span class="w"> </span><span class="n">data_rate</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * half_bw:</span>
<span class="cm">     * Sets the anti-aliasing filter to 1/4 of the output data rate (ODR)</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">half_bw</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * watermark_odr:</span>
<span class="cm">     * The Watermark feature can be used to reduce the interrupt/poll load</span>
<span class="cm">     * of the system. The FIFO fills up to watermark value in sample sets</span>
<span class="cm">     * [1..170] and then generates an interrupt. Each ODR can have it&#39;s</span>
<span class="cm">     * own watermark.</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="n">watermark_odr_12Hz</span><span class="p">;</span>
<span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="n">watermark_odr_25Hz</span><span class="p">;</span>
<span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="n">watermark_odr_50Hz</span><span class="p">;</span>
<span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="n">watermark_odr_100Hz</span><span class="p">;</span>
<span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="n">watermark_odr_200Hz</span><span class="p">;</span>
<span class="w">    </span><span class="n">u8</span><span class="w"> </span><span class="n">watermark_odr_400Hz</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * When acceleration measurements are received from the ADXL362</span>
<span class="cm">     * events are sent to the input event subsystem. The following settings</span>
<span class="cm">     * select the event code for ABS x, y and z axis data</span>
<span class="cm">     * respectively. The event codes can also be negated to further account</span>
<span class="cm">     * for sensor orientation.</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">s32</span><span class="w"> </span><span class="n">ev_code_x</span><span class="p">;</span><span class="w">  </span><span class="cm">/* (+/-)ABS_X,Y,Z */</span>
<span class="w">    </span><span class="n">s32</span><span class="w"> </span><span class="n">ev_code_y</span><span class="p">;</span><span class="w">  </span><span class="cm">/* (+/-)ABS_X,Y,Z */</span>
<span class="w">    </span><span class="n">s32</span><span class="w"> </span><span class="n">ev_code_z</span><span class="p">;</span><span class="w">  </span><span class="cm">/* (+/-)ABS_X,Y,Z */</span>
<span class="w">    </span><span class="n">s32</span><span class="w"> </span><span class="n">abs_fuzz</span><span class="p">;</span><span class="w">   </span><span class="cm">/* input fuzz val */</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * [in]activity_threshold:</span>
<span class="cm">     * holds the threshold value for activity detection.</span>
<span class="cm">     * The data format is unsigned. The scale factor is</span>
<span class="cm">     * 1mg/LSB.</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">u16</span><span class="w"> </span><span class="n">activity_threshold</span><span class="p">;</span>
<span class="w">    </span><span class="n">u16</span><span class="w"> </span><span class="n">inactivity_threshold</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * [in]activity_time:</span>
<span class="cm">     * is an unsigned time value representing the</span>
<span class="cm">     * amount of time that acceleration must be [below]/above the value in</span>
<span class="cm">     * [in]activity_threshold for [in]activity to be declared.</span>
<span class="cm">     * The scale factor is 1ms/LSB.</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">inactivity_time</span><span class="p">;</span>
<span class="w">    </span><span class="n">u32</span><span class="w"> </span><span class="n">activity_time</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * referenced_[in]activity_en:</span>
<span class="cm">     * Sets [in]activity detection to operate in referenced mode opposed to</span>
<span class="cm">     * absolute mode.</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">referenced_activity_en</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">referenced_inactivity_en</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * Use ADXL362 INT2 pin instead of INT1 pin for interrupt output</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">use_int2</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/*</span>
<span class="cm">     * Optional IRQ flags</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">irqflags</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">adxl362_platform_data</span><span class="w"> </span><span class="n">adxl362_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">data_rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADXL_ODR_100HZ</span><span class="p">,</span><span class="w">    </span><span class="cm">/* 100Hz */</span>
<span class="w">    </span><span class="p">.</span><span class="n">data_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADXL_RANGE_PM_2g</span><span class="p">,</span><span class="w"> </span><span class="cm">/* +/- 2000mg */</span>
<span class="w">    </span><span class="p">.</span><span class="n">activity_threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">   </span><span class="cm">/* 70mg (referenced) */</span>
<span class="w">    </span><span class="p">.</span><span class="n">inactivity_threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="cm">/* 30mg (referenced) */</span>
<span class="w">    </span><span class="p">.</span><span class="n">inactivity_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">   </span><span class="cm">/* 10s */</span>
<span class="w">    </span><span class="p">.</span><span class="n">activity_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">     </span><span class="cm">/* 1ms */</span>
<span class="w">    </span><span class="p">.</span><span class="n">referenced_activity_en</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="cm">/* cancel static accel. of gravity */</span>
<span class="w">    </span><span class="p">.</span><span class="n">referenced_inactivity_en</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="cm">/* cancel static accel. of gravity */</span>
<span class="w">    </span><span class="p">.</span><span class="n">watermark_odr_12Hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">watermark_odr_25Hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">watermark_odr_50Hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">watermark_odr_100Hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">watermark_odr_200Hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="cm">/* limit irq/poll interval to 10ms */</span>
<span class="w">    </span><span class="p">.</span><span class="n">watermark_odr_400Hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="cm">/* limit irq/poll interval to 10ms */</span>
<span class="w">    </span><span class="p">.</span><span class="n">ev_code_x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ABS_X</span><span class="p">,</span><span class="w">     </span><span class="cm">/* default mapping */</span>
<span class="w">    </span><span class="p">.</span><span class="n">ev_code_y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ABS_Y</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">ev_code_z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ABS_Z</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
<!-- CMDS: firstseconly noeditbtn -->
</section>
<section id="declaring-spi-slave-devices">
<h2>Declaring SPI slave devices<a class="headerlink" href="#declaring-spi-slave-devices" title="Link to this heading">#</a></h2>
<p>Unlike PCI or USB devices, SPI devices are not enumerated at the hardware level. Instead, the software must know which devices are connected on each SPI bus segment, and what slave selects these devices are using. For this reason, the kernel code must instantiate SPI devices explicitly. The most common method is to declare the SPI devices by bus number.</p>
<p>This method is appropriate when the SPI bus is a system bus, as in many embedded systems, wherein each SPI bus has a number which is known in advance. It is thus possible to pre-declare the SPI devices that inhabit this bus. This is done with an array of struct spi_board_info, which is registered by calling spi_register_board_info().</p>
<p>For more information see: <a class="reference external" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/spi/spi-summary.rst">Documentation/spi/spi-summary.rst</a></p>
<p>Depending on the DDS IC used, you may need to set the modalias accordingly, matching your part name.
It may also required to adjust max_speed_hz. Please consult the datasheet, for maximum spi clock supported by the device in question.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">spi_board_info</span><span class="w"> </span><span class="n">board_spi_board_info</span><span class="p">[]</span><span class="w"> </span><span class="n">__initdata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="cp">## if defined(CONFIG_INPUT_ADXL362) || defined(CONFIG_INPUT_ADXL362_MODULE)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">modalias</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;adxl362&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_data</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adxl362_info</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">irq</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">IRQ_PF6</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">max_speed_hz</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">    </span><span class="cm">/* max spi clock (SCK) speed in HZ */</span>
<span class="w">        </span><span class="p">.</span><span class="n">bus_num</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">chip_select</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">mode</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_MODE_0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="cp">## endif</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__init</span><span class="w"> </span><span class="nf">board_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="o">--</span><span class="n">snip</span><span class="o">--</span><span class="p">]</span>

<span class="w">    </span><span class="n">spi_register_board_info</span><span class="p">(</span><span class="n">board_spi_board_info</span><span class="p">,</span><span class="w"> </span><span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">board_spi_board_info</span><span class="p">));</span>

<span class="w">    </span><span class="p">[</span><span class="o">--</span><span class="n">snip</span><span class="o">--</span><span class="p">]</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">arch_initcall</span><span class="p">(</span><span class="n">board_init</span><span class="p">);</span>
</pre></div>
</div>
<section id="adding-linux-driver-support">
<h3>Adding Linux driver support<a class="headerlink" href="#adding-linux-driver-support" title="Link to this heading">#</a></h3>
<p>Configure kernel with “make menuconfig” (alternatively use “make xconfig” or
“make qconfig”)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: round="" help="" -->
<p>The ADXL34x Driver depends on <strong>CONFIG_SPI</strong></p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Input<span class="w"> </span>device<span class="w"> </span>support

<span class="w">    </span>-*-<span class="w"> </span>Generic<span class="w"> </span>input<span class="w"> </span>layer<span class="w"> </span><span class="o">(</span>needed<span class="w"> </span><span class="k">for</span><span class="w"> </span>keyboard,<span class="w"> </span>mouse,<span class="w"> </span>...<span class="o">)</span>
<span class="w">    </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Support<span class="w"> </span><span class="k">for</span><span class="w"> </span>memoryless<span class="w"> </span>force-feedback<span class="w"> </span>devices
<span class="w">    </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Polled<span class="w"> </span>input<span class="w"> </span>device<span class="w"> </span>skeleton
<span class="w">    </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Sparse<span class="w"> </span>keymap<span class="w"> </span>support<span class="w"> </span>library
<span class="w">          </span>*<span class="w"> </span>Userland<span class="w"> </span>interfaces<span class="w"> </span>*
<span class="w">    </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Mouse<span class="w"> </span>interface
<span class="w">    </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Joystick<span class="w"> </span>interface
<span class="w">    </span>&lt;*&gt;<span class="w">   </span>Event<span class="w"> </span>interface
<span class="w">    </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Event<span class="w"> </span>debugging
<span class="w">          </span>*<span class="w"> </span>Input<span class="w"> </span>Device<span class="w"> </span>Drivers<span class="w"> </span>*
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="o">]</span><span class="w">   </span>Keyboards<span class="w">  </span>---&gt;
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="o">]</span><span class="w">   </span>Mice<span class="w">  </span>---&gt;
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="o">]</span><span class="w">   </span>Joysticks/Gamepads<span class="w">  </span>---&gt;
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="o">]</span><span class="w">   </span>Tablets<span class="w">  </span>---&gt;
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="o">]</span><span class="w">   </span>Touchscreens<span class="w">  </span>---&gt;
<span class="w">    </span><span class="o">[</span>*<span class="o">]</span><span class="w">   </span>Miscellaneous<span class="w"> </span>devices<span class="w">  </span>---&gt;
<span class="w">          </span>---<span class="w"> </span>Miscellaneous<span class="w"> </span>devices
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Analog<span class="w"> </span>Devices<span class="w"> </span>AD714x<span class="w"> </span>Capacitance<span class="w"> </span>Touch<span class="w"> </span>Sensor
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>BMA150/SMB380<span class="w"> </span>acceleration<span class="w"> </span>sensor<span class="w"> </span>support
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>MMA8450<span class="w"> </span>-<span class="w"> </span>Freescale<span class="err">&#39;</span>s<span class="w"> </span><span class="m">3</span>-Axis,<span class="w"> </span><span class="m">8</span>/12-bit<span class="w"> </span>Digital<span class="w"> </span>Accelerometer
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>MPU3050<span class="w"> </span>Triaxial<span class="w"> </span>gyroscope<span class="w"> </span>sensor
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Sharp<span class="w"> </span>GP2AP002A00F<span class="w"> </span>I2C<span class="w"> </span>Proximity/Opto<span class="w"> </span>sensor<span class="w"> </span>driver
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Polled<span class="w"> </span>GPIO<span class="w"> </span>tilt<span class="w"> </span>switch
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Kionix<span class="w"> </span>KXTJ9<span class="w"> </span>tri-axis<span class="w"> </span>digital<span class="w"> </span>accelerometer
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>User<span class="w"> </span>level<span class="w"> </span>driver<span class="w"> </span>support
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>PCF8574<span class="w"> </span>Keypad<span class="w"> </span>input<span class="w"> </span>device
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Rotary<span class="w"> </span>encoders<span class="w"> </span>connected<span class="w"> </span>to<span class="w"> </span>GPIO<span class="w"> </span>pins
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>Analog<span class="w"> </span>Devices<span class="w"> </span>ADXL34x<span class="w"> </span>Three-Axis<span class="w"> </span>Digital<span class="w"> </span>Accelerometer
<span class="w">          </span>**&lt;*&gt;<span class="w">   </span>Analog<span class="w"> </span>Devices<span class="w"> </span>ADXL362<span class="w"> </span>Three-Axis<span class="w"> </span>Digital<span class="w"> </span>Accelerometer**
<span class="w">          </span>&lt;<span class="w"> </span>&gt;<span class="w">   </span>VTI<span class="w"> </span>CMA3000<span class="w"> </span>Tri-axis<span class="w"> </span>accelerometer
<span class="w">          </span>Hardware<span class="w"> </span>I/O<span class="w"> </span>ports<span class="w">  </span>---&gt;
</pre></div>
</div>
</section>
<section id="hardware-configuration">
<h3>Hardware configuration<a class="headerlink" href="#hardware-configuration" title="Link to this heading">#</a></h3>
<a class="reference internal image-reference" href="../../../_images/eval-adxl362z.jpg"><img alt="eval-adxl362z" src="../../../_images/eval-adxl362z.jpg" style="width: 300px;" /></a>
</section>
<section id="driver-testing">
<h3>Driver testing<a class="headerlink" href="#driver-testing" title="Link to this heading">#</a></h3>
<section id="driver-compiled-as-a-module">
<h4>Driver compiled as a module<a class="headerlink" href="#driver-compiled-as-a-module" title="Link to this heading">#</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:~&gt;<span class="w"> </span>**modprobe<span class="w"> </span>evdev**
root:~&gt;<span class="w"> </span>**modprobe<span class="w"> </span>adxl362**
input:<span class="w"> </span>ADXL362<span class="w"> </span>accelerometer<span class="w"> </span>as<span class="w"> </span>/devices/platform/bfin-spi.0/spi_master/spi0/spi0.1/input/input0
</pre></div>
</div>
</section>
<section id="driver-compiled-into-the-kernel">
<h4>Driver compiled into the kernel<a class="headerlink" href="#driver-compiled-into-the-kernel" title="Link to this heading">#</a></h4>
<p>Your kernel startup messages should include something like this</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>input: ADXL362 accelerometer as /devices/platform/bfin-spi.0/spi_master/spi0/spi0.1/input/input0
</pre></div>
</div>
</section>
<section id="common-problems">
<h4>Common Problems<a class="headerlink" href="#common-problems" title="Link to this heading">#</a></h4>
<p>In case you see a message like this</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>adxl362 spi0.1: Failed to probe (0x00:0x00)
</pre></div>
</div>
<p>This means that the SPI communication and initilaization with the ADXL362 failed. <strong>check bus_num and chip_select in your platform device file</strong></p>
</section>
<section id="checking-for-proper-installation">
<h4>Checking for proper installation<a class="headerlink" href="#checking-for-proper-installation" title="Link to this heading">#</a></h4>
<p>After the kernel boot your device folder should include at least one device node for the accelerometer</p>
</section>
<section id="use-the-event-test-utility-to-test-proper-function">
<h4>Use the event_test utility to test proper function<a class="headerlink" href="#use-the-event-test-utility-to-test-proper-function" title="Link to this heading">#</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>root:/&gt; event_test /dev/input/event0
Input driver version is 1.0.1
Input device ID: bus 0x1c vendor 0xad product 0xf2 version 0x1
Input device name: &quot;ADXL362 accelerometer&quot;
Supported events:
  Event type 0 (Sync)
  Event type 3 (Absolute)
    Event code 0 (X)
      Value   -144
      Min    -2000
      Max     2000
    Event code 1 (Y)
      Value   -256
      Min    -2000
      Max     2000
    Event code 2 (Z)
      Value    398
      Min    -2000
      Max     2000
Testing ... (interrupt to exit)
Event: time 43.641571, -------------- Report Sync ------------
Event: time 43.641582, type 3 (Absolute), code 0 (X), value 192
Event: time 43.641588, type 3 (Absolute), code 1 (Y), value 7
Event: time 43.641593, type 3 (Absolute), code 2 (Z), value 291
Event: time 43.641597, -------------- Report Sync ------------
Event: time 43.656442, type 3 (Absolute), code 0 (X), value 211
Event: time 43.656451, type 3 (Absolute), code 1 (Y), value 12
Event: time 43.656456, type 3 (Absolute), code 2 (Z), value 295
Event: time 43.656461, -------------- Report Sync ------------
Event: time 43.656476, type 3 (Absolute), code 1 (Y), value 15
Event: time 43.656481, type 3 (Absolute), code 2 (Z), value 280
Event: time 43.656486, -------------- Report Sync ------------
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: tip="" -->
<p>In case you move the accelerometer and don’t receive events, it’s likely that something with your Interrupt is wrong.
<strong>check irq number in your platform device file</strong></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: tip="" -->
<p>In case you get a message like: <code class="docutils literal notranslate"><span class="pre">evtest:</span> <span class="pre">No</span> <span class="pre">such</span> <span class="pre">device</span></code>, it’s likely that you have not install the necessary modules</p>
</div>
</section>
<section id="adxl34x-sysfs-runtime-controls">
<h4>ADXL34x Sysfs runtime controls<a class="headerlink" href="#adxl34x-sysfs-runtime-controls" title="Link to this heading">#</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>sys/class/input/input0/device/
root:/sys/devices/platform/bfin-spi.0/spi_master/spi0/spi0.1&gt;<span class="w"> </span>**ls<span class="w"> </span>-al**
drwxr-xr-x<span class="w"> </span><span class="m">4</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:40<span class="w"> </span>.
drwxr-xr-x<span class="w"> </span><span class="m">4</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:40<span class="w"> </span>..
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:50<span class="w"> </span>autosleep
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:50<span class="w"> </span>driver<span class="w"> </span>-&gt;<span class="w"> </span>../../../../../../bus/spi/drivers/adxl362
drwxr-xr-x<span class="w"> </span><span class="m">3</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:40<span class="w"> </span>input
-r--r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:50<span class="w"> </span>modalias
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:50<span class="w"> </span>power
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:50<span class="w"> </span>rate
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">0</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:50<span class="w"> </span>subsystem<span class="w"> </span>-&gt;<span class="w"> </span>../../../../../../bus/spi
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">01</span>:50<span class="w"> </span>uevent
</pre></div>
</div>
<section id="controlling-the-output-data-rate">
<h5>Controlling the Output Data Rate<a class="headerlink" href="#controlling-the-output-data-rate" title="Link to this heading">#</a></h5>
<table>
<thead>
<tr class="header">
<th>Output Data Rate (Hz)</th>
<th>Bandwidth (Hz)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>400</td>
<td>200</td>
</tr>
<tr class="even">
<td>200</td>
<td>100</td>
</tr>
<tr class="odd">
<td>100</td>
<td>50</td>
</tr>
<tr class="even">
<td>50</td>
<td>25</td>
</tr>
<tr class="odd">
<td>25</td>
<td>12.5</td>
</tr>
<tr class="even">
<td>12.5</td>
<td>6.25</td>
</tr>
</tbody>
</table>
<p>Writing ‘<strong>Output Data Rate</strong>’ into <strong>rate</strong> sets the desired sample rate
Reading <strong>rate</strong> returns the current Output Data Rate
See table above for supported sample rates</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/devices/platform/bfin-spi.0/spi_master/spi0/spi0.1&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">400</span><span class="w"> </span>&gt;<span class="w"> </span>rate
root:/sys/devices/platform/bfin-spi.0/spi_master/spi0/spi0.1&gt;<span class="w"> </span>cat<span class="w"> </span>rate
<span class="m">400</span>
</pre></div>
</div>
</section>
<section id="enabling-disabling-autosleep-upon-inactivity">
<h5>Enabling / Disabling Autosleep Upon Inactivity<a class="headerlink" href="#enabling-disabling-autosleep-upon-inactivity" title="Link to this heading">#</a></h5>
<p>Writing ‘<strong>1</strong>’ into autosleep - enables Autosleep Upon Inactivity
Writing ‘<strong>0</strong>’ into autosleep - disables Autosleep Upon Inactivity</p>
</section>
</section>
</section>
<section id="more-information">
<h3>More Information<a class="headerlink" href="#more-information" title="Link to this heading">#</a></h3>
<!-- CMDS: noheader firstseconly noeditbtn -->
<ul class="simple">
<li><p>Linux-Input mailing list: <a class="reference external" href="mailto:linux-input&#37;&#52;&#48;vger&#46;kernel&#46;org">linux-input<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a></p></li>
<li><p><a class="reference external" href="http://patchwork.kernel.org/project/linux-input/list">Linux-Input Patchwork Server</a></p></li>
<li><p><a class="reference external" href="http://git.kernel.org/?p=linux/kernel/git/dtor/input.git;a=summary">Linux-Input Git Repository</a></p></li>
</ul>
<p><em><strong>Need Help?</strong></em></p>
<ul class="simple">
<li><p><a class="reference external" href="https://ez.analog.com/community/linux-device-drivers">Analog Devices Linux Device Drivers Help Forum</a></p></li>
<li><p><a class="reference external" href="https://ez.analog.com/">Ask a Question</a></p></li>
</ul>
<section id="adxl362-6-android-acceleration-sensor">
<h4>ADXL362/6 Android Acceleration Sensor<a class="headerlink" href="#adxl362-6-android-acceleration-sensor" title="Link to this heading">#</a></h4>
<p>Using this driver under Android as Acceleration Sensor
Follow the link here <a class="reference internal" href="#/resources/tools-software/android-drivers/sensor-acceleration/adxl345"><span class="xref myst">ADXL362 Android Sensor</span></a></p>
</section>
</section>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../iio-accelerometer/adxl355.html" title="Previous document" class="prev">ADXL355 Low Noise, Low Drift, Low Power, 3-Axis MEMS Accelerometers</a>
    <a href="../iio-accelerometer/adxl367.html" title="Next document" class="next">ADXL367 Input 3-Axis Digital Accelerometer Linux Driver</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>

  
  <form action="" method="get" class="search-area">
    <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
    <button value="search"></button>
    <span id="search-progress"></span>
  </form>
  
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>