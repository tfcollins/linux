<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ADF7242 Network MAC802154 Linux Driver &#8212; Linux Kernel: Variant from Analog Devices, Inc. v6.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/style.min.css?v=cf8483f0" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script src="../../../_static/documentation_options.js?v=cb43cce9"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    <script defer="" src="../../../_static/app.umd.js?v=96350458"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ADGS1408/ADGS1409 8:1/Dual 4:1 Muxes Linux Driver" href="../mux/adgs1408.html" />
    <link rel="prev" title="ADF4377 IIO Wideband Synthesizer with Integrated VCO Linux Driver" href="../iio-pll/adf4377.html" />
   
  
    <meta name="robots" content="noindex">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <header>
    <div class="header">
      <div id="left">
        <label id="show-sidebar" for="input-show-toc" title="Show/hide index"></label>
      </div>
      <div id="right">
        <span>
          <a id="logo-org" href="https://analog.com"></a>
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a>
        </span>
        <span class="reverse">
          <label id="show-localtoc" for="input-show-localtoc" title="Show/hide contents"></label>
        </span>
      </div>
    </div>
    <div class="repotoc-tree">
      <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

    </div>
  </header>

    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">ADF7242 Network MAC802154 Linux Driver</a><ul>
<li><a class="reference internal" href="#supported-devices">Supported Devices</a></li>
<li><a class="reference internal" href="#evaluation-boards">Evaluation Boards</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a><ul>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#files">Files</a></li>
<li><a class="reference internal" href="#firmware-for-automatic-ieee-802-15-4-operating-modes-an-1082">Firmware for Automatic IEEE 802.15.4 Operating Modes (AN-1082)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-platform-device-initialization">Example platform device initialization</a><ul>
<li><a class="reference internal" href="#example-platform-board-file">Example Platform / Board file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-linux-driver-support">Adding Linux driver support</a></li>
<li><a class="reference internal" href="#hardware-configuration">Hardware configuration</a></li>
<li><a class="reference internal" href="#driver-testing">Driver testing</a><ul>
<li><a class="reference internal" href="#userspace-tools-for-linux-ieee-802-15-4-stack">Userspace tools for Linux IEEE 802.15.4 stack</a></li>
<li><a class="reference internal" href="#configuration-of-the-ieee-802-15-4-layer">Configuration of the IEEE 802.15.4 layer</a><ul>
<li><a class="reference internal" href="#configuration-for-the-first-node-zedboard">Configuration for the first node (ZedBoard)</a></li>
<li><a class="reference internal" href="#configuration-for-the-second-node-raspberry-pi">Configuration for the second node (Raspberry Pi)</a></li>
<li><a class="reference internal" href="#chat-application">Chat application</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-of-the-6lowpan-layer">Configuration of the 6loWPAN layer</a><ul>
<li><a class="reference internal" href="#id1">Configuration for the first node (ZedBoard)</a></li>
<li><a class="reference internal" href="#id2">Configuration for the second node (Raspberry Pi)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing-the-communication">Testing the communication</a><ul>
<li><a class="reference internal" href="#ping">Ping!</a></li>
<li><a class="reference internal" href="#standard-tools">Standard tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
              <a id="no-logo" href="../../../index.html">
                Linux Kernel: Variant from Analog Devices, Inc.
              </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../../../documentation/university/index.html">University Program</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../pyadi-iio/index.html">pyadi-iio</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../../../drivers_index.html">Linux Drivers</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1835a.html">AD1835A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad1936.html">AD1933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1200.html">AD2S1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s1210.html">AD2S1210</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-resolver/ad2s90.html">AD2S90</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/axi-ad3552r.html">AD3552R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad400x.html">AD4003</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad4630.html">AD4030-24</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5064.html">AD5024</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/dpot.html">AD5160</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5446.html">AD5300</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5676.html">AD5310R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5360.html">AD5360</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5380.html">AD5380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/ad5398.html">AD5398</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5449.html">AD5415</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5421.html">AD5421</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5504.html">AD5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5592r.html">AD5592R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5593r.html">AD5593R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5624r.html">AD5624</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5755.html">AD5735</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5764.html">AD5744</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5758.html">AD5758</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5791.html">AD5760</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ad5770r.html">AD5770R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-impedance-analyzer/ad5933.html">AD5933</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad6676.html">AD6676</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9208.html">AD6684</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7476a.html">AD7091</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r5.html">AD7091R-5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7091r8.html">AD7091R-8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7124.html">AD7124-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/ad714x.html">AD7142</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7150.html">AD7150</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7152.html">AD7152</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7780.html">AD7170</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7192.html">AD7190</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7266.html">AD7265</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7280a.html">AD7280A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7291.html">AD7291</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7298.html">AD7298</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ad73322.html">AD73311</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad738x.html">AD7380</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-addac/ad74413r.html">AD74412R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7606.html">AD7605-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-cdc/ad7745.html">AD7745</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7766.html">AD7766-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768-1.html">AD7768-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7768.html">AD7768</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7793.html">AD7785</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7791.html">AD7787</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7873.html">AD7843</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7877.html">AD7877</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-touchscreen/ad7879.html">AD7879-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7887.html">AD7887</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad7998.html">AD7991</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ad8366.html">AD8366</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-mxfe/ad9081.html">AD9081</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/ad9083.html">AD9083</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/axi-dac-dds-hdl.html">AD9122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9162.html">AD9161</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/tools-software/linux-drivers/iio-adc/ad9208.html">AD9208</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/axi-adc-hdl.html">AD9234</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9361.html">AD9361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/ad9371.html">AD9371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9508.html">AD9508</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9517.html">AD9516-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9523.html">AD9523-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ad9528.html">AD9528</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clk/adi/clk-ad9545.c.html">AD9545</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/ad9832.html">AD9832</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dds/ad9834.html">AD9833</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/ada4250.html">ADA4250</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adaq8092.html">ADAQ8092</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adar1000.html">ADAR1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-adc/adas1000.html">ADAS1000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1361.html">ADAU1361</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1372.html">ADAU1372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1373.html">ADAU1373</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1381.html">ADAU1381</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1701.html">ADAU1401</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau1977.html">ADAU1977</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7002.html">ADAU7002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adau7118.html">ADAU7118</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/adav801.html">ADAV801</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4159.html">ADF4159</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4350.html">ADF4350</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf5355.html">ADF4355-2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4360.html">ADF4360-0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4371.html">ADF4371</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adf4377.html">ADF4377</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ADF7241</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mux/adgs1408.html">ADGS1408</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin1100.html">ADIN1100</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin1110.html">ADIN1110</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-phy/adin.html">ADIN1200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/adin2111.html">ADIN2111</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16060.html">ADIS16060</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16080.html">ADIS16080</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16130.html">ADIS16130</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16136.html">ADIS16133</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16201.html">ADIS16201</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16203.html">ADIS16203</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16209.html">ADIS16209</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adis16240.html">ADIS16240</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adis16260.html">ADIS16250</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16400.html">ADIS16300</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16480.html">ADIS16375</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-inertial-measurement-units/adis16475.html">ADIS16460</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-vector-power/adl5960.html">ADL5960</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1013.html">ADMV1013</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/admv1014.html">ADMV1014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-filter/admv8818.html">ADMV8818</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regulator/adp150.html">ADP122</a></li>
<li class="toctree-l2"><a class="reference internal" href="../leds/adp1650.html">ADP1650</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multifunction-device/adp5520.html">ADP5501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5589.html">ADP5585</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-keyboard/adp5588.html">ADP5587</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8860.html">ADP8860</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backlight/adp8870.html">ADP8870</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/adrf6780.html">ADRF6780</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9002.html">ADRV9002</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-transceiver/adrv9009.html">ADRV9008-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drm/adv7511.html">ADV7511</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl313.html">ADXL312,</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl345.html">ADXL345</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl355.html">ADXL355</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input-misc/adxl362.html">ADXL362</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl367.html">ADXL367</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-accelerometer/adxl372.html">ADXL372</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-gyroscope/adxrs450.html">ADXRS450</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/axi_fan_control.html">Fan Control IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-amplifiers/hmc425a.html">HMC425</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/hmc7044.html">HMC7043</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-dac/ltc2664.html">LTC2664</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwmon/ltc2947.html">LTC2947</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-temperature/ltc2983.html">LTC2983</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iio-pll/ltc6952.html">LTC6952</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serial/max310x.html">MAX14830</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net-mac-phy/open_alliance.html">Open Alliance - 10BASE-T1x MAC-PHY Serial Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm2602.html">SSM2602</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/ssm4567.html">SSM4567</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/build.html">Building Kernels</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="adf7242-network-mac802154-linux-driver">
<h1>ADF7242 Network MAC802154 Linux Driver<a class="headerlink" href="#adf7242-network-mac802154-linux-driver" title="Link to this heading">¶</a></h1>
<section id="supported-devices">
<h2>Supported Devices<a class="headerlink" href="#supported-devices" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/ADF7242">ADF7242</a></p></li>
<li><p><a class="reference external" href="https://analog.com/ADF7241">ADF7241</a></p></li>
</ul>
</section>
<section id="evaluation-boards">
<h2>Evaluation Boards<a class="headerlink" href="#evaluation-boards" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://analog.com/EVAL-ADF7242-PMDZ">EVAL-ADF7242-PMDZ</a></p></li>
<li><p><a class="reference external" href="https://analog.com/EVAL-ADF7242DB1Z">EVAL-ADF7242DB1Z</a></p></li>
</ul>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<!-- CMDS: firstseconly -->
</section>
<section id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Link to this heading">¶</a></h2>
<section id="status">
<h3>Status<a class="headerlink" href="#status" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Source</th>
<th>Mainlined?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/net/ieee802154/adf7242.c">git</a></td>
<td>Yes</td>
</tr>
</tbody>
</table>
</section>
<section id="files">
<h3>Files<a class="headerlink" href="#files" title="Link to this heading">¶</a></h3>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>File</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>driver</td>
<td><a href="https://github.com/analogdevicesinc/linux/main?drivers/net/ieee802154/adf7242.c">adf7242.c</a></td>
</tr>
<tr class="even">
<td>include</td>
<td><a href="https://github.com/analogdevicesinc/linux/main?include/linux/spi/adf7242.h">adf7242.h</a></td>
</tr>
</tbody>
</table>
</section>
<section id="firmware-for-automatic-ieee-802-15-4-operating-modes-an-1082">
<h3>Firmware for Automatic IEEE 802.15.4 Operating Modes (AN-1082)<a class="headerlink" href="#firmware-for-automatic-ieee-802-15-4-operating-modes-an-1082" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><img alt="ram_lab_7242_2_0_ieee15dot4_full_r5.zip" src="resources/tools-software/linux-drivers/networking-mac802154/ram_lab_7242_2_0_ieee15dot4_full_r5.zip" /></p>
<ul>
<li><p><img alt="ram_lab_7242_2_0_ieee15dot4_full_r6.zip" src="resources/tools-software/linux-drivers/networking-mac802154/ram_lab_7242_2_0_ieee15dot4_full_r6.zip" /></p></li>
</ul>
</li>
</ul>
<p>Below you can find a simple command line tool that was used to convert the original firmware HEX file into binary format consumed by the ADF7242 Linux device driver.</p>
<ul class="simple">
<li><p><img alt="Hex2Bin Firmware Tool" src="resources/tools-software/linux-drivers/networking-mac802154/adf7242_do_firmware.zip" /></p></li>
</ul>
</section>
</section>
<section id="example-platform-device-initialization">
<h2>Example platform device initialization<a class="headerlink" href="#example-platform-device-initialization" title="Link to this heading">¶</a></h2>
<!-- CMDS: noheader firstseconly noeditbtn -->
<section id="example-platform-board-file">
<h3>Example Platform / Board file<a class="headerlink" href="#example-platform-board-file" title="Link to this heading">¶</a></h3>
<!-- CMDS: firstseconly -->
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">## include &lt;linux/spi/adf7242.h&gt;</span>

<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">adf7242_platform_data</span><span class="w"> </span><span class="n">adf7242_pdata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADF_IEEE802154_AUTO_CSMA_CA</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ADF_IEEE802154_HW_AACK</span><span class="p">,</span>
<span class="cm">/*</span>
<span class="cm"> * Specifies number of attempts to</span>
<span class="cm"> * retransmit unacknowledged</span>
<span class="cm"> * frames while in automatic CSMA-CA </span>
<span class="cm"> * Tx mode.</span>
<span class="cm"> */</span>
<span class="w">    </span><span class="p">.</span><span class="n">max_frame_retries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="cm">/*</span>
<span class="cm"> * Specifies number of attempts to</span>
<span class="cm"> * repeat CSMA-CA algorithm prior to</span>
<span class="cm"> * cancellation of RC_TX command.</span>
<span class="cm"> * Valid range is 0 to 5; </span>
<span class="cm"> * 7: CSMA-CA algorithm is off</span>
<span class="cm"> */</span>
<span class="w">    </span><span class="p">.</span><span class="n">max_cca_retries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="cm">/* </span>
<span class="cm"> * Specifies the maximum back-off</span>
<span class="cm"> * exponent used in the CSMA-CA</span>
<span class="cm"> * algorithm; valid range is 4 to 8</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="w">    </span><span class="p">.</span><span class="n">max_csma_be</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="cm">/*</span>
<span class="cm"> * Specifies the minimum back-off</span>
<span class="cm"> * exponent used in the CSMA-CA</span>
<span class="cm"> * algorithm; valid range is 0 to</span>
<span class="cm"> * csma_max_be</span>
<span class="cm"> */</span>
<span class="w">    </span><span class="p">.</span><span class="n">min_csma_be</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">spi_board_info</span><span class="w"> </span><span class="n">bfin_spi_board_info</span><span class="p">[]</span><span class="w"> </span><span class="n">__initdata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="cp">## if defined(CONFIG_IEEE802154_ADF7242) || defined(CONFIG_IEEE802154_ADF7242_MODULE)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">modalias</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;adf7242&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">max_speed_hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">     </span><span class="cm">/* max spi clock (SCK) speed in HZ */</span>
<span class="w">        </span><span class="p">.</span><span class="n">irq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IRQ_PF6</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">bus_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">chip_select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">   </span><span class="cm">/* GPIO controlled SSEL */</span>
<span class="w">        </span><span class="p">.</span><span class="n">controller_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adf7242_spi_chip_info</span><span class="p">,</span><span class="w"> </span><span class="cm">/* Blackfin only */</span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adf7242_pdata</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_MODE_0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="cp">## endif</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Alternatively, it is possible to declare the SPI devices from a DeviceTree file.
Read the <a class="reference external" href="https://github.com/analogdevicesinc/linux/main?Documentation/devicetree/bindings/net/ieee802154/adf7242.txt">documentation</a> for more details.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>adf7242@0 {
    compatible = &quot;adi,adf7242&quot;;
    reg = &lt;0&gt;;
    spi-max-frequency = &lt;10000000&gt;;
    interrupts = &lt;0x62 IRQ_TYPE_LEVEL_HIGH&gt;;

    adi,hw-aack-mode-enable;
    adi,auto-csma-ca-mode-enable;
};
</pre></div>
</div>
</section>
</section>
<section id="adding-linux-driver-support">
<h2>Adding Linux driver support<a class="headerlink" href="#adding-linux-driver-support" title="Link to this heading">¶</a></h2>
<p>Configure kernel with “make menuconfig” (alternatively use “make xconfig” or
“make qconfig”)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: round="" help="" -->
<p>The ADF7242 Driver depends on <strong>CONFIG_SPI</strong> and <strong>CONFIG_IEEE802154</strong></p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>------------------- Linux Kernel Configuration ----------------------

  [*] Networking support  ---&gt;
       Networking options  ---&gt;
         &lt;*&gt; IEEE Std 802.15.4 Low-Rate Wireless Personal Area Networks support
            &lt;*&gt;   Generic IEEE 802.15.4 Soft Networking Stack (mac802154)

  [*] Device drivers  ---&gt;
       [*] Network device support  ---&gt;
          --- Network device support
          [*]   Ethernet (10 or 100Mbit)  ---&gt;
          &lt;*&gt;   IEEE 802.15.4 drivers  ---&gt;
              --- IEEE 802.15.4 drivers
               &lt;M&gt;   ADF7242 transceiver driver
</pre></div>
</div>
</section>
<section id="hardware-configuration">
<h2>Hardware configuration<a class="headerlink" href="#hardware-configuration" title="Link to this heading">¶</a></h2>
<!-- CMDS: firstseconly -->
</section>
<section id="driver-testing">
<h2>Driver testing<a class="headerlink" href="#driver-testing" title="Link to this heading">¶</a></h2>
<p>On this demo network, we will have two different boards communicating with each other using ADF7242 modules: a Raspberry Pi and a ZedBoard.</p>
<table>
<tbody>
<tr class="odd">
<td><img src="/resources/tools-software/linux-drivers/networking-mac802154/raspi_adf7242.jpg" data-query="?400" width="400" alt="raspi_adf7242.jpg" /></td>
<td><img src="/resources/tools-software/linux-drivers/networking-mac802154/zedboard_adf7242.jpg" class="align-right" data-query="?400" width="400" alt="zedboard_adf7242.jpg" /></td>
</tr>
</tbody>
</table>
<section id="userspace-tools-for-linux-ieee-802-15-4-stack">
<h3>Userspace tools for Linux IEEE 802.15.4 stack<a class="headerlink" href="#userspace-tools-for-linux-ieee-802-15-4-stack" title="Link to this heading">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: round="" important="" -->
<p>lowpan-tools are deprecated please use linux-wpan tools available here:
<a class="reference external" href="https://github.com/linux-wpan/wpan-tools">linux-wpan</a></p>
</div>
<p>Example using lowpan-tools</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>iwpan<span class="w"> </span>dev<span class="w"> </span>wpan0<span class="w"> </span><span class="nb">set</span><span class="w"> </span>pan_id<span class="w"> </span>0x777
iwpan<span class="w"> </span>phy<span class="w"> </span>phy0<span class="w"> </span><span class="nb">set</span><span class="w"> </span>channel<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">11</span>
iwpan<span class="w"> </span>dev<span class="w"> </span>wpan0<span class="w"> </span><span class="nb">set</span><span class="w"> </span>ackreq_default<span class="w"> </span><span class="m">1</span>
ifconfig<span class="w"> </span>wpan0<span class="w"> </span>up
ip<span class="w"> </span>link<span class="w"> </span>add<span class="w"> </span>link<span class="w"> </span>wpan0<span class="w"> </span>name<span class="w"> </span>lowpan0<span class="w"> </span><span class="nb">type</span><span class="w"> </span>lowpan
ip<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span><span class="m">2001</span>::/64<span class="w"> </span>dev<span class="w"> </span>lowpan0
ip<span class="w"> </span>addr<span class="w"> </span>add<span class="w"> </span><span class="m">2001</span>::4/128<span class="w"> </span>dev<span class="w"> </span>lowpan0
ifconfig<span class="w"> </span>lowpan0<span class="w"> </span>up
</pre></div>
</div>
</section>
<section id="configuration-of-the-ieee-802-15-4-layer">
<h3>Configuration of the IEEE 802.15.4 layer<a class="headerlink" href="#configuration-of-the-ieee-802-15-4-layer" title="Link to this heading">¶</a></h3>
<p>We will configure the two devices to use the PAN ID 0x0777, the hardware addresses a0::1 and a0::2, and the short addresses 0x8001 and 0x8002.</p>
<p>Then, we will give them IPv6 addresses and test 6loWPAN communication with standard GNU tools.</p>
<section id="configuration-for-the-first-node-zedboard">
<h4>Configuration for the first node (ZedBoard)<a class="headerlink" href="#configuration-for-the-first-node-zedboard" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span><span class="nv">HW_ADDR</span><span class="o">=</span><span class="s2">&quot;a0:0:0:0:0:0:0:1&quot;</span>
root:/&gt;<span class="w"> </span><span class="nv">DEVICE_ADDR</span><span class="o">=</span><span class="m">8001</span><span class="w"> </span><span class="c1"># hexadecimal</span>
root:/&gt;<span class="w"> </span><span class="nv">PAN_ID</span><span class="o">=</span><span class="m">777</span><span class="w"> </span><span class="c1"># hexadecimal</span>
root:/&gt;<span class="w"> </span><span class="nv">CHANNEL</span><span class="o">=</span><span class="m">11</span>
root:/&gt;
root:/&gt;<span class="w"> </span>iz<span class="w"> </span>add<span class="w"> </span>wpan-phy0
Registered<span class="w"> </span>new<span class="w"> </span>device<span class="w"> </span><span class="o">(</span><span class="s1">&#39;wpan0&#39;</span><span class="o">)</span><span class="w"> </span>on<span class="w"> </span>phy<span class="w"> </span>wpan-phy0

root:/&gt;<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>wpan0<span class="w"> </span>address<span class="w"> </span><span class="si">${</span><span class="nv">HW_ADDR</span><span class="si">}</span>
root:/&gt;<span class="w"> </span>ifconfig<span class="w"> </span>wpan0<span class="w"> </span>up

root:/&gt;<span class="w"> </span>iz<span class="w"> </span><span class="nb">set</span><span class="w"> </span>wpan0<span class="w"> </span><span class="si">${</span><span class="nv">PAN_ID</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">DEVICE_ADDR</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">CHANNEL</span><span class="si">}</span>
</pre></div>
</div>
</section>
<section id="configuration-for-the-second-node-raspberry-pi">
<h4>Configuration for the second node (Raspberry Pi)<a class="headerlink" href="#configuration-for-the-second-node-raspberry-pi" title="Link to this heading">¶</a></h4>
<p>We only need to change the first two lines:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span><span class="nv">HW_ADDR</span><span class="o">=</span><span class="s2">&quot;a0:0:0:0:0:0:0:2&quot;</span>
root:/&gt;<span class="w"> </span><span class="nv">DEVICE_ADDR</span><span class="o">=</span><span class="m">8002</span><span class="w"> </span><span class="c1"># hexadecimal</span>
root:/&gt;<span class="w"> </span><span class="nv">PAN_ID</span><span class="o">=</span><span class="m">777</span><span class="w"> </span><span class="c1"># hexadecimal</span>
root:/&gt;<span class="w"> </span><span class="nv">CHANNEL</span><span class="o">=</span><span class="m">11</span>
root:/&gt;
root:/&gt;<span class="w"> </span>iz<span class="w"> </span>add<span class="w"> </span>wpan-phy0
Registered<span class="w"> </span>new<span class="w"> </span>device<span class="w"> </span><span class="o">(</span><span class="s1">&#39;wpan0&#39;</span><span class="o">)</span><span class="w"> </span>on<span class="w"> </span>phy<span class="w"> </span>wpan-phy0

root:/&gt;<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>wpan0<span class="w"> </span>address<span class="w"> </span><span class="si">${</span><span class="nv">HW_ADDR</span><span class="si">}</span>
root:/&gt;<span class="w"> </span>ifconfig<span class="w"> </span>wpan0<span class="w"> </span>up

root:/&gt;<span class="w"> </span>iz<span class="w"> </span><span class="nb">set</span><span class="w"> </span>wpan0<span class="w"> </span><span class="si">${</span><span class="nv">PAN_ID</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">DEVICE_ADDR</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">CHANNEL</span><span class="si">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: round="" important="" -->
<p>Some GNU/Linux distributions offered on the Raspberry Pi, like Raspbian, will auto-enable the wpan0 interface as soon as it is created. We can disable this behaviour with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span>ifplugd<span class="w"> </span>-S<span class="w"> </span>-i<span class="w"> </span>wpan0<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ifconfig<span class="w"> </span>wpan0<span class="w"> </span>down
</pre></div>
</div>
</div>
</section>
<section id="chat-application">
<h4>Chat application<a class="headerlink" href="#chat-application" title="Link to this heading">¶</a></h4>
<p>Now that our two devices are correctly configured, we can verify that the two devices can communicate using the “izchat” application:</p>
<p><strong>ZedBoard:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span>izchat<span class="w"> </span>0x0777<span class="w"> </span>0x8001<span class="w"> </span>0x8002
Hello<span class="w"> </span>World!

&gt;<span class="w"> </span>Thanks
</pre></div>
</div>
<p><strong>Raspberry Pi:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span>izchat<span class="w"> </span>0x0777<span class="w"> </span>0x8002<span class="w"> </span>0x8001

&gt;<span class="w"> </span>Hello<span class="w"> </span>World!

Thanks
</pre></div>
</div>
<p>This is a pretty simple two way communication.
The ASCII strings are encapsulated in IEEE802.15.4 DATA frames.</p>
</section>
</section>
<section id="configuration-of-the-6lowpan-layer">
<h3>Configuration of the 6loWPAN layer<a class="headerlink" href="#configuration-of-the-6lowpan-layer" title="Link to this heading">¶</a></h3>
<p>The previous example shows that communication is working, but it is not very useful. By using the 6loWPAN protocol on top (the low-power equivalent of the IPv6 protocol), we can allow standard Linux network applications to communicate over the IEEE 802.15.4 link with standard sockets.</p>
<section id="id1">
<h4>Configuration for the first node (ZedBoard)<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span><span class="nv">HW_ADDR</span><span class="o">=</span><span class="s2">&quot;a0:0:0:0:0:0:0:1&quot;</span><span class="w"> </span><span class="c1"># Same as before</span>
root:/&gt;<span class="w"> </span><span class="nv">IPV6_ADDR</span><span class="o">=</span><span class="s2">&quot;2001::1/128&quot;</span>
root:/&gt;
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span>add<span class="w"> </span>link<span class="w"> </span>wpan0<span class="w"> </span>name<span class="w"> </span>lowpan0<span class="w"> </span><span class="nb">type</span><span class="w"> </span>lowpan
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>lowpan0<span class="w"> </span>address<span class="w"> </span><span class="si">${</span><span class="nv">HW_ADDR</span><span class="si">}</span>
root:/&gt;
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>addr<span class="w"> </span>add<span class="w"> </span><span class="si">${</span><span class="nv">IPV6_ADDR</span><span class="si">}</span><span class="w"> </span>dev<span class="w"> </span>lowpan0
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span><span class="m">2001</span>::/64<span class="w"> </span>dev<span class="w"> </span>lowpan0
</pre></div>
</div>
</section>
<section id="id2">
<h4>Configuration for the second node (Raspberry Pi)<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span><span class="nv">HW_ADDR</span><span class="o">=</span><span class="s2">&quot;a0:0:0:0:0:0:0:2&quot;</span><span class="w"> </span><span class="c1"># Same as before</span>
root:/&gt;<span class="w"> </span><span class="nv">IPV6_ADDR</span><span class="o">=</span><span class="s2">&quot;2001::2/128&quot;</span>
root:/&gt;
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span>add<span class="w"> </span>link<span class="w"> </span>wpan0<span class="w"> </span>name<span class="w"> </span>lowpan0<span class="w"> </span><span class="nb">type</span><span class="w"> </span>lowpan
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>lowpan0<span class="w"> </span>address<span class="w"> </span><span class="si">${</span><span class="nv">HW_ADDR</span><span class="si">}</span>
root:/&gt;
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>addr<span class="w"> </span>add<span class="w"> </span><span class="si">${</span><span class="nv">IPV6_ADDR</span><span class="si">}</span><span class="w"> </span>dev<span class="w"> </span>lowpan0
root:/&gt;<span class="w"> </span>ip<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span><span class="m">2001</span>::/64<span class="w"> </span>dev<span class="w"> </span>lowpan0
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<!-- ATTRS: round="" important="" -->
<p>Some GNU/Linux distributions offered on the Raspberry Pi, like Raspbian, will auto-enable the lowpan0 interface as soon as it is created. We can disable this behaviour with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/&gt;<span class="w"> </span>ifplugd<span class="w"> </span>-S<span class="w"> </span>-i<span class="w"> </span>lowpan0<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ifconfig<span class="w"> </span>lowpan0<span class="w"> </span>down
</pre></div>
</div>
</div>
</section>
</section>
<section id="testing-the-communication">
<h3>Testing the communication<a class="headerlink" href="#testing-the-communication" title="Link to this heading">¶</a></h3>
<section id="ping">
<h4>Ping!<a class="headerlink" href="#ping" title="Link to this heading">¶</a></h4>
<p>From the Raspberry Pi, we can now ping the ZedBoard at the address <strong>fe80::a200:0:0:1%lowpan0</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@analog:~#<span class="w"> </span>ping6<span class="w"> </span>-i0.1<span class="w"> </span><span class="m">2001</span>::3
PING<span class="w"> </span><span class="m">2001</span>::3<span class="o">(</span><span class="m">2001</span>::3<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">44</span>.8<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">39</span>.9<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">44</span>.0<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">36</span>.5<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">45</span>.6<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">6</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">49</span>.1<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">7</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">42</span>.1<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">8</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">34</span>.2<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">9</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">35</span>.0<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">33</span>.1<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">46</span>.6<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">12</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">28</span>.8<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">13</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">43</span>.0<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">14</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">38</span>.6<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">15</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">41</span>.1<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">16</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">40</span>.3<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">17</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">45</span>.6<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">18</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">53</span>.3<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">19</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">51</span>.6<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">20</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">26</span>.6<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">21</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">42</span>.3<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">22</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">32</span>.7<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">2001</span>::3:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">23</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">50</span>.0<span class="w"> </span>ms
^C
---<span class="w"> </span><span class="m">2001</span>::3<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">23</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">23</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>2210ms
rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">26</span>.622/41.122/53.348/6.945<span class="w"> </span>ms
root@analog:~#
</pre></div>
</div>
<p>We can as well ping the Raspberry Pi from the Zedboard using the address <strong>fe80::a200:0:0:2%lowpan0</strong>.</p>
</section>
<section id="standard-tools">
<h4>Standard tools<a class="headerlink" href="#standard-tools" title="Link to this heading">¶</a></h4>
<p>The following is just to demonstrate that any Linux program can, using standard sockets, communicate over the IEEE 802.15.4 link with 6loWPAN:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@raspberrypi:/&gt;<span class="w"> </span>ssh<span class="w"> </span>-6<span class="w"> </span>analog@fe80::a200:0:0:1%lowpan0
analog@fe80::a200:0:0:1%lowpan0<span class="err">&#39;</span>s<span class="w"> </span>password:
Welcome<span class="w"> </span>to<span class="w"> </span>Linaro<span class="w"> </span><span class="m">14</span>.04<span class="w"> </span><span class="o">(</span>GNU/Linux<span class="w"> </span><span class="m">3</span>.18.0-33199-g62cfd65-dirty<span class="w"> </span>armv7l<span class="o">)</span>

Last<span class="w"> </span>login:<span class="w"> </span>Thu<span class="w"> </span>Jan<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">00</span>:02:21<span class="w"> </span><span class="m">1970</span><span class="w"> </span>from<span class="w"> </span>fe80::a200:0:0:2%lowpan0

root@analog:/&gt;
</pre></div>
</div>
</section>
</section>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../iio-pll/adf4377.html" title="Previous document" class="prev">ADF4377 IIO Wideband Synthesizer with Integrated VCO Linux Driver</a>
    <a href="../mux/adgs1408.html" title="Next document" class="next">ADGS1408/ADGS1409 8:1/Dual 4:1 Muxes Linux Driver</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>

  
  <form action="" method="get" class="search-area">
    <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
    <button value="search"></button>
    <span id="search-progress"></span>
  </form>
  
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>